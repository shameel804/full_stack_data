[
    {
        "id": "django_err_1",
        "title": "Missing Return Statement",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import HttpResponse\n\ndef home(request):\n    message = 'Welcome'\n    HttpResponse(message)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "The view must return an HttpResponse object, not just call it. Add 'return' before HttpResponse.",
        "difficultyLevel": 1
    },
    {
        "id": "django_tf_1",
        "title": "URL Pattern",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('home/', views.home, name='home'),\n]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correct Django URL pattern configuration.",
        "difficultyLevel": 1
    },
    {
        "id": "django_err_2",
        "title": "Model Field Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import models\n\nclass Article(models.Model):\n    title = models.CharField()\n    content = models.TextField()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "CharField requires a 'max_length' argument.",
        "difficultyLevel": 1
    },
    {
        "id": "django_tf_2",
        "title": "Template Tag",
        "description": "Is this code snippet correct?",
        "codeSnippet": "{% if user.is_authenticated %}\n    <p>Welcome, {{ user.username }}</p>\n{% endif %}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correct Django template conditional block.",
        "difficultyLevel": 1
    },
    {
        "id": "django_err_3",
        "title": "View Import Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.shortcuts import render\n\ndef profile(request):\n    context = {'user': request.user}\n    return renders(request, 'profile.html', context)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "The function is 'render', not 'renders'. Typo in function name.",
        "difficultyLevel": 1
    },
    {
        "id": "django_tf_3",
        "title": "Form Definition",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django import forms\n\nclass ContactForm(forms.Form):\n    name = forms.CharField(max_length=100)\n    email = forms.EmailField()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correctly defined Django Form class.",
        "difficultyLevel": 1
    },
    {
        "id": "django_err_4",
        "title": "Admin Registration",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib import admin\nfrom .models import Product\n\nadmin.site.register(Product",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Missing closing parenthesis in register call.",
        "difficultyLevel": 1
    },
    {
        "id": "django_tf_4",
        "title": "QuerySet Filter",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from .models import Article\n\ndef get_published():\n    return Article.objects.filter(status='published')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correct Django QuerySet filter operation.",
        "difficultyLevel": 1
    },
    {
        "id": "django_err_5",
        "title": "Settings Configuration",
        "description": "Find the line with the error.",
        "codeSnippet": "INSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth'\n    'django.contrib.contenttypes',\n]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Missing comma after 'django.contrib.auth'. Python will concatenate strings without comma.",
        "difficultyLevel": 1
    },
    {
        "id": "django_tf_5",
        "title": "Model Meta Class",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Book(models.Model):\n    title = models.CharField(max_length=200)\n\n    class Meta:\n        ordering = ['-title']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correct Model Meta class definition for ordering.",
        "difficultyLevel": 1
    },
    {
        "id": "django_err_6",
        "title": "URL Include Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.urls import path, include\n\nurlpatterns = [\n    path('api/', includes('api.urls')),\n]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "The function is 'include', not 'includes'.",
        "difficultyLevel": 1
    },
    {
        "id": "django_tf_6",
        "title": "Template Inheritance",
        "description": "Is this code snippet correct?",
        "codeSnippet": "{% extends 'base.html' %}\n\n{% block content %}\n    <h1>Hello World</h1>\n{% endblock %}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct Django template inheritance syntax.",
        "difficultyLevel": 1
    },
    {
        "id": "django_err_7",
        "title": "ForeignKey Missing Argument",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import models\n\nclass Comment(models.Model):\n    post = models.ForeignKey('Post')\n    text = models.TextField()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "ForeignKey requires 'on_delete' argument in Django 2.0+.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_7",
        "title": "Redirect Import",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.shortcuts import redirect\n\ndef logout_view(request):\n    return redirect('home')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correct usage of Django redirect shortcut.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_8",
        "title": "Template Variable Error",
        "description": "Find the line with the error.",
        "codeSnippet": "<html>\n<body>\n    <p>Welcome, {% user.name %}</p>\n</body>\n</html>",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Variables use double braces {{ }}, not {% %}. Should be {{ user.name }}.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_8",
        "title": "Model Method",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Product(models.Model):\n    name = models.CharField(max_length=100)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n\n    def __str__(self):\n        return self.name",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correctly defined __str__ method for readable object representation.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_9",
        "title": "Class-Based View Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views import View\n\nclass HomeView(View):\n    def get(self, request):\n        return render(request, 'home.html')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing import for 'render'. Need to add 'from django.shortcuts import render'.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_9",
        "title": "Static Files Tag",
        "description": "Is this code snippet correct?",
        "codeSnippet": "{% load static %}\n<link rel=\"stylesheet\" href=\"{% static 'css/style.css' %}\">",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct syntax for loading static files in Django templates.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_10",
        "title": "Migration Command Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import migrations\n\nclass Migration(migrations.Migration):\n    dependencies = []\n    operations = [\n        migrations.CreateModel(\n            name='User'\n            fields=[],\n        ),\n    ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing comma after 'name='User''.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_10",
        "title": "Login Required Decorator",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.auth.decorators import login_required\n\n@login_required\ndef dashboard(request):\n    return render(request, 'dashboard.html')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of login_required decorator.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_11",
        "title": "Model Manager Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class PublishedManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset.filter(status='published')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Missing parentheses for get_queryset(). Should be get_queryset().filter().",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_11",
        "title": "Form Validation",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def contact(request):\n    if request.method == 'POST':\n        form = ContactForm(request.POST)\n        if form.is_valid():\n            form.save()\n    return render(request, 'contact.html')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": false,
        "explanation": "forms.Form doesn't have save() method. Only ModelForm has save().",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_12",
        "title": "URL Reverse Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.urls import reverse\n\ndef get_url():\n    return reversed('home')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "The function is 'reverse', not 'reversed'. 'reversed' is a Python built-in.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_12",
        "title": "Many-to-Many Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(max_length=200)\n    tags = models.ManyToManyField('Tag')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ManyToManyField doesn't require on_delete argument.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_13",
        "title": "Template For Loop Error",
        "description": "Find the line with the error.",
        "codeSnippet": "{% for item in items %}\n    <li>{{ item.name }}</li>\n{% end for %}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Should be {% endfor %} not {% end for %} (no space).",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_13",
        "title": "Context Processor",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def site_settings(request):\n    return {\n        'site_name': 'My Site',\n        'version': '1.0'\n    }",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correctly defined context processor function.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_14",
        "title": "JsonResponse Import",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import JsonResponce\n\ndef api_data(request):\n    data = {'status': 'ok'}\n    return JsonResponce(data)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 0,
        "explanation": "Typo in import. Should be 'JsonResponse' not 'JsonResponce'.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_14",
        "title": "Blank vs Null",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Profile(models.Model):\n    bio = models.TextField(blank=True)\n    website = models.URLField(blank=True, null=True)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct. TextField can use blank=True, URLField can use both blank and null.",
        "difficultyLevel": 2
    },
    {
        "id": "django_err_15",
        "title": "Middleware Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class SimpleMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self request):\n        response = self.get_response(request)\n        return response",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing comma between 'self' and 'request' in __call__ method.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_15",
        "title": "Model Choices",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n    ]\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correctly defined choices field in Django model.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_16",
        "title": "Signal Handler Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models.signals import post_save\nfrom django.dispatch import receiver\n\n@receiver(post_save, sender='User')\ndef create_profile(sender, instance, created, **kwargs):\n    if created:\n        Profile.objects.create(user=instance)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "sender should be the model class, not a string. Use sender=User with proper import.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_16",
        "title": "Generic ListView",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.views.generic import ListView\nfrom .models import Article\n\nclass ArticleListView(ListView):\n    model = Article\n    template_name = 'articles/list.html'\n    context_object_name = 'articles'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a correctly configured generic ListView.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_17",
        "title": "Form Clean Method Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class RegisterForm(forms.Form):\n    password1 = forms.CharField(widget=forms.PasswordInput)\n    password2 = forms.CharField(widget=forms.PasswordInput)\n\n    def clean(self):\n        cleaned_data = super.clean()\n        return cleaned_data",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing parentheses. Should be super().clean() not super.clean().",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_17",
        "title": "Custom User Model",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.auth.models import AbstractUser\n\nclass CustomUser(AbstractUser):\n    phone = models.CharField(max_length=15, blank=True)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": false,
        "explanation": "Missing 'from django.db import models' import for models.CharField.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_18",
        "title": "Serializer Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework import serializers\n\nclass ArticleSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Article\n        fields = '__all_'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Typo in fields. Should be '__all__' (double underscore at end).",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_18",
        "title": "Queryset Annotation",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Count\n\nArticle.objects.annotate(comment_count=Count('comments'))",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct syntax for annotating querysets with aggregations.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_19",
        "title": "Template Filter Error",
        "description": "Find the line with the error.",
        "codeSnippet": "{% load humanize %}\n<p>{{ article.created_at|naturaltime }}</p>\n<p>{{ price|intcoma }}</p>",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Typo in filter name. Should be 'intcomma' not 'intcoma'.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_19",
        "title": "Cache Decorator",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.views.decorators.cache import cache_page\n\n@cache_page(60 * 15)\ndef my_view(request):\n    return render(request, 'page.html')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of cache_page decorator (15 minutes cache).",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_20",
        "title": "Pagination Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.paginator import Paginator\n\ndef article_list(request):\n    articles = Article.objects.all()\n    paginator = Paginator(articles, 10)\n    page = request.GET.get('page')\n    articles = paginator.get_page(page\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing closing parenthesis in get_page() call.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_20",
        "title": "Select Related",
        "description": "Is this code snippet correct?",
        "codeSnippet": "Article.objects.select_related('author').all()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "select_related is correct for optimizing ForeignKey lookups.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_21",
        "title": "CreateView Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views.generic.edit import CreateView\n\nclass ArticleCreateView(CreateView):\n    model = Article\n    fields = ['title', 'content']\n    success_url = reverse_lazy('article_list')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing import for reverse_lazy from django.urls.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_21",
        "title": "Prefetch Related",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Prefetch\n\nArticle.objects.prefetch_related(\n    Prefetch('comments', queryset=Comment.objects.filter(active=True))\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of Prefetch object for custom prefetching.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_22",
        "title": "Model Property Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class Order(models.Model):\n    quantity = models.IntegerField()\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n\n    @property\n    def total():\n        return self.quantity * self.price",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing 'self' parameter in property method definition.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_22",
        "title": "F Expression",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import F\n\nArticle.objects.update(views=F('views') + 1)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of F expressions for atomic updates.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_23",
        "title": "Test Client Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.test import TestCase\n\nclass ViewTest(TestCase):\n    def test_home(self):\n        response = self.client.get('/')\n        self.assertequal(response.status_code, 200)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Method is 'assertEqual' (capital E), not 'assertequal'.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_23",
        "title": "Q Object",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Q\n\nArticle.objects.filter(Q(status='published') | Q(author=request.user))",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of Q objects for complex queries with OR.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_24",
        "title": "Messages Framework Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib import messages\n\ndef create_article(request):\n    messages.sucess(request, 'Article created!')\n    return redirect('article_list')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Typo in method name. Should be 'success' not 'sucess'.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_24",
        "title": "Transaction Atomic",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db import transaction\n\n@transaction.atomic\ndef transfer_funds(from_acc, to_acc, amount):\n    from_acc.balance -= amount\n    from_acc.save()\n    to_acc.balance += amount\n    to_acc.save()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of transaction.atomic decorator for atomic operations.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_25",
        "title": "Model Save Override",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(max_length=200)\n    slug = models.SlugField()\n\n    def save(self, *args, **kwargs):\n        self.slug = slugify(self.title)\n        super().save(*args, kwargs)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing asterisk before kwargs. Should be **kwargs.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_25",
        "title": "Model Validation",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Product(models.Model):\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n\n    def clean(self):\n        if self.price < 0:\n            raise ValidationError('Price cannot be negative')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct model-level validation using the clean method.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_26",
        "title": "Custom Manager Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleManager(models.Manager):\n    def published(self):\n        return self.filter(status='published')\n\nclass Article(models.Model):\n    status = models.CharField(max_length=20)\n    objects = ArticleManager",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing parentheses. Should be ArticleManager() to instantiate.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_26",
        "title": "Bulk Create",
        "description": "Is this code snippet correct?",
        "codeSnippet": "articles = [\n    Article(title='First'),\n    Article(title='Second'),\n]\nArticle.objects.bulk_create(articles)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of bulk_create for efficient batch inserts.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_27",
        "title": "Permission Mixin Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.views.generic import TemplateView\n\nclass DashboardView(TemplateView, LoginRequiredMixin):\n    template_name = 'dashboard.html'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "LoginRequiredMixin must come before TemplateView in inheritance order.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_27",
        "title": "Get Object Or 404",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.shortcuts import get_object_or_404\n\ndef article_detail(request, pk):\n    article = get_object_or_404(Article, pk=pk)\n    return render(request, 'detail.html', {'article': article})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of get_object_or_404 shortcut.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_28",
        "title": "Formset Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.forms import formset_factory\n\nArticleFormSet = formset_factory(ArticleForm)\n\ndef manage_articles(request):\n    formset = ArticleFormSet(request.POST)\n    if formset.is_valid:\n        formset.save()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing parentheses. Should be is_valid() - it's a method call.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_28",
        "title": "Custom Template Tag",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django import template\n\nregister = template.Library()\n\n@register.simple_tag\ndef current_time(format_string):\n    return datetime.now().strftime(format_string)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct syntax for defining a simple template tag.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_29",
        "title": "REST ViewSet Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework import viewsets\n\nclass ArticleViewSet(viewsets.ModelViewSet):\n    queryset = Article.objects.all()\n    serializer_class = ArticleSerializer\n    permission_classes = [IsAuthenticated]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing import for IsAuthenticated from rest_framework.permissions.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_29",
        "title": "Model Inheritance",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class BaseContent(models.Model):\n    title = models.CharField(max_length=200)\n    created = models.DateTimeField(auto_now_add=True)\n\n    class Meta:\n        abstract = True\n\nclass Article(BaseContent):\n    content = models.TextField()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct abstract model inheritance pattern.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_30",
        "title": "Celery Task Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from celery import shared_task\n\n@shared_task\ndef send_email(user_id):\n    user = User.objects.get(id=user_id)\n    send_mail(\n        'Subject',\n        'Message',\n        'from@example.com'\n        [user.email],\n    )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 8,
        "explanation": "Missing comma after 'from@example.com'. Python will try to call string.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_30",
        "title": "Aggregation",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Avg, Sum\n\nOrder.objects.aggregate(\n    total=Sum('amount'),\n    average=Avg('amount')\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of aggregate with multiple functions.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_31",
        "title": "Inlines Admin Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class CommentInline(admin.TabularInline):\n    model = Comment\n\nclass ArticleAdmin(admin.ModelAdmin):\n    inlines = CommentInline",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "inlines should be a list/tuple. Should be [CommentInline].",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_31",
        "title": "Values QuerySet",
        "description": "Is this code snippet correct?",
        "codeSnippet": "Article.objects.values('title', 'author__name').distinct()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of values with related field lookup.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_32",
        "title": "Custom Validator Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.validators import RegexValidator\n\nphone_validator = RegexValidator(\n    regex=r'^\\+?1?\\d{9,15}$',\n    message='Invalid phone number'\n\nclass Contact(models.Model):\n    phone = models.CharField(max_length=15, validators=[phone_validator])",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing closing parenthesis for RegexValidator.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_32",
        "title": "FileField Upload",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Document(models.Model):\n    file = models.FileField(upload_to='documents/%Y/%m/%d/')\n    uploaded = models.DateTimeField(auto_now_add=True)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of FileField with date-based upload path.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_33",
        "title": "Email Backend Error",
        "description": "Find the line with the error.",
        "codeSnippet": "EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'\nEMAIL_HOST = 'smtp.gmail.com'\nEMAIL_PORT = 587\nEMAIL_USE_TLS = 'True'\nEMAIL_HOST_USER = 'user@gmail.com'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "EMAIL_USE_TLS should be boolean True, not string 'True'.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_33",
        "title": "SlugField Auto",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.utils.text import slugify\n\nclass Article(models.Model):\n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True, blank=True)\n\n    def save(self, *args, **kwargs):\n        if not self.slug:\n            self.slug = slugify(self.title)\n        super().save(*args, **kwargs)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct pattern for auto-generating slugs on save.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_34",
        "title": "Template Context Error",
        "description": "Find the line with the error.",
        "codeSnippet": "def article_list(request):\n    articles = Article.objects.all()\n    context = {\n        articles: articles,\n    }\n    return render(request, 'list.html', context)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Dictionary key should be a string 'articles', not variable articles.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_34",
        "title": "Exists Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "if Article.objects.filter(slug='test').exists():\n    print('Article exists')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "exists() is the efficient way to check if records exist.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_35",
        "title": "APIView Method Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework.views import APIView\nfrom rest_framework.response import Response\n\nclass ArticleList(APIView):\n    def get(request):\n        articles = Article.objects.all()\n        return Response({'count': articles.count()})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing 'self' as first parameter in method definition.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_35",
        "title": "Defer Fields",
        "description": "Is this code snippet correct?",
        "codeSnippet": "Article.objects.defer('content', 'summary').all()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "defer() correctly excludes specified fields from query for efficiency.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_36",
        "title": "ModelForm Save Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleForm(forms.ModelForm):\n    class Meta:\n        model = Article\n        fields = ['title', 'content']\n\ndef create_article(request):\n    form = ArticleForm(request.POST)\n    if form.is_valid():\n        article = form.save(commit=False)\n        article.author = request.user\n        article.save\n    return redirect('list')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 10,
        "explanation": "Missing parentheses. Should be article.save() to call the method.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_36",
        "title": "Only Fields",
        "description": "Is this code snippet correct?",
        "codeSnippet": "Article.objects.only('id', 'title').all()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "only() correctly loads only specified fields for efficiency.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_37",
        "title": "Router Registration Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework.routers import DefaultRouter\n\nrouter = DefaultRouter()\nrouter.register('articles', ArticleViewSet, base_name='article')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "In DRF 3.9+, it's 'basename' (no underscore), not 'base_name'.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_37",
        "title": "Raw SQL Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db import connection\n\nwith connection.cursor() as cursor:\n    cursor.execute('SELECT * FROM articles WHERE id = %s', [article_id])\n    row = cursor.fetchone()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of raw SQL with parameterized query.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_38",
        "title": "Async View Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import JsonResponse\n\nasync def api_data(request):\n    data = await get_external_data()\n    return JsonResponse(data)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "JsonResponse needs safe=False for non-dict data, but also async view should use sync_to_async for ORM calls.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_38",
        "title": "Database Router",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class PrimaryReplicaRouter:\n    def db_for_read(self, model, **hints):\n        return 'replica'\n\n    def db_for_write(self, model, **hints):\n        return 'default'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a valid database router for read/write splitting.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_39",
        "title": "Subquery Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models import OuterRef, Subquery\n\nnewest = Comment.objects.filter(\n    article=OuterRef('pk')\n).order_by('-created')\n\nArticle.objects.annotate(\n    newest_comment=Subquery(newest.values('text')[0])\n)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Should use [:1] for slicing, not [0]. Subquery requires queryset not single value.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_39",
        "title": "Conditional Expression",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Case, When, Value\n\nArticle.objects.annotate(\n    priority=Case(\n        When(status='urgent', then=Value(1)),\n        When(status='normal', then=Value(2)),\n        default=Value(3)\n    )\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of Case/When for conditional annotations.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_40",
        "title": "Signal Dispatch UID Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models.signals import post_save\nfrom django.dispatch import receiver\n\n@receiver(post_save, sender=User)\n@receiver(post_save, sender=User)\ndef create_profile(sender, instance, created, **kwargs):\n    if created:\n        Profile.objects.create(user=instance)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Duplicate receiver without dispatch_uid will cause the signal to fire twice.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_40",
        "title": "Window Function",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import F, Window\nfrom django.db.models.functions import Rank\n\nArticle.objects.annotate(\n    rank=Window(\n        expression=Rank(),\n        order_by=F('views').desc()\n    )\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of window functions for ranking.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_41",
        "title": "Constraint Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import models\n\nclass Booking(models.Model):\n    start_date = models.DateField()\n    end_date = models.DateField()\n\n    class Meta:\n        constraints = [\n            models.CheckConstraint(\n                check=models.Q(end_date__gte='start_date'),\n                name='valid_dates'\n            )\n        ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "Should use F('start_date'), not string 'start_date' for field reference.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_41",
        "title": "Unique Together",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Vote(models.Model):\n    user = models.ForeignKey(User, on_delete=models.CASCADE)\n    article = models.ForeignKey(Article, on_delete=models.CASCADE)\n\n    class Meta:\n        unique_together = ['user', 'article']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly enforces unique constraint on user-article pairs.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_42",
        "title": "JSONField Lookup Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class Product(models.Model):\n    data = models.JSONField()\n\n# Query\nProduct.objects.filter(data_price__gt=100)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should use double underscore for JSON key: data__price__gt=100.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_42",
        "title": "Proxy Model",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class OrderedArticle(Article):\n    class Meta:\n        proxy = True\n        ordering = ['-created']\n\n    def is_recent(self):\n        return self.created > timezone.now() - timedelta(days=7)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct proxy model pattern for adding methods without new table.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_43",
        "title": "Annotate Alias Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models import Count\n\nAuthor.objects.annotate(\n    article-count=Count('articles')\n)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Python identifiers cannot contain hyphens. Use article_count.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_43",
        "title": "Expression Wrapper",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import ExpressionWrapper, F, DecimalField\n\nOrder.objects.annotate(\n    total=ExpressionWrapper(\n        F('quantity') * F('unit_price'),\n        output_field=DecimalField()\n    )\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ExpressionWrapper correctly specifies output field for computed expression.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_44",
        "title": "GenericForeignKey Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib.contenttypes.fields import GenericForeignKey\nfrom django.contrib.contenttypes.models import ContentType\n\nclass Comment(models.Model):\n    content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE)\n    object_id = models.PositiveIntegerField()\n    content_object = GenericForeignKey()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "GenericForeignKey needs field names if different from defaults: GenericForeignKey('content_type', 'object_id').",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_44",
        "title": "Iterator QuerySet",
        "description": "Is this code snippet correct?",
        "codeSnippet": "for article in Article.objects.all().iterator(chunk_size=2000):\n    process(article)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "iterator() is correct for memory-efficient iteration over large querysets.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_45",
        "title": "Custom Permission Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(max_length=200)\n\n    class Meta:\n        permissions = (\n            ('can_publish', 'Can publish articles')\n        )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Single tuple needs trailing comma: (('can_publish', 'Can publish'),).",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_45",
        "title": "Get Or Create",
        "description": "Is this code snippet correct?",
        "codeSnippet": "obj, created = Article.objects.get_or_create(\n    slug='test',\n    defaults={'title': 'Test Article', 'content': 'Content'}\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of get_or_create with defaults.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_46",
        "title": "Middleware Process Response",
        "description": "Find the line with the error.",
        "codeSnippet": "class TimingMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        request.start_time = time.time()\n        response = self.get_response(request)\n        duration = time.time() - request.start_time\n        response['X-Request-Duration'] = duration\n        return",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "Missing 'response' in return statement. Should return response.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_46",
        "title": "Update Or Create",
        "description": "Is this code snippet correct?",
        "codeSnippet": "obj, created = Profile.objects.update_or_create(\n    user=request.user,\n    defaults={'bio': 'Updated bio', 'website': 'https://example.com'}\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct usage of update_or_create.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_47",
        "title": "Custom Backend Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib.auth.backends import ModelBackend\n\nclass EmailBackend(ModelBackend):\n    def authenticate(self, request, username=None, password=None):\n        try:\n            user = User.objects.get(email=username)\n            if user.check_password(password):\n                return user\n        except User.DoesNotExist:\n            return",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "Should return None explicitly for failed auth.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_47",
        "title": "Bulk Update",
        "description": "Is this code snippet correct?",
        "codeSnippet": "articles = Article.objects.filter(status='draft')\nfor article in articles:\n    article.status = 'published'\nArticle.objects.bulk_update(articles, ['status'])",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": false,
        "explanation": "QuerySet needs to be evaluated to list before bulk_update: list(articles).",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_48",
        "title": "Soft Delete Manager",
        "description": "Find the line with the error.",
        "codeSnippet": "class SoftDeleteManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset().filter(is_deleted=False)\n\nclass Article(models.Model):\n    is_deleted = models.BooleanField(default=False)\n    objects = models.Manager()\n    available = SoftDeleteManager",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Missing parentheses. Should be SoftDeleteManager().",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_48",
        "title": "Database Index",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(max_length=200)\n    created = models.DateTimeField()\n\n    class Meta:\n        indexes = [\n            models.Index(fields=['created', 'title']),\n        ]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly creates a composite database index.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_49",
        "title": "Throttle Class Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework.throttling import UserRateThrottle\n\nclass BurstRateThrottle(UserRateThrottle):\n    scope = 'burst'\n    rate = '60/min'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "rate should not be defined here; it's configured in settings. Remove rate attribute.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_49",
        "title": "Natural Key",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class CategoryManager(models.Manager):\n    def get_by_natural_key(self, name):\n        return self.get(name=name)\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    objects = CategoryManager()\n\n    def natural_key(self):\n        return (self.name,)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct implementation of natural keys for serialization.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_50",
        "title": "Custom User Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib.auth.models import AbstractBaseUser, PermissionsMixin\n\nclass CustomUser(AbstractBaseUser, PermissionsMixin):\n    email = models.EmailField(unique=True)\n    USERNAME_FIELD = email",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "USERNAME_FIELD should be a string 'email', not the field reference.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_51",
        "title": "Secure Cookie Error",
        "description": "Find the line with the error.",
        "codeSnippet": "# settings.py\nSESSION_COOKIE_SECURE = True\nCSRF_COOKIE_SECURE = True\nSECURE_SSL_REDIRECT = True\nSECURE_HSTS_SECONDS = 0",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "SECURE_HSTS_SECONDS = 0 disables HSTS. Should be positive integer like 31536000.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_50",
        "title": "Content Types",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.contenttypes.models import ContentType\n\nct = ContentType.objects.get_for_model(Article)\narticle_cls = ct.model_class()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly retrieves ContentType and model class.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_52",
        "title": "FilterSet Error",
        "description": "Find the line with the error.",
        "codeSnippet": "import django_filters\n\nclass ArticleFilter(django_filters.FilterSet):\n    class Meta:\n        model = Article\n        fields = {'title': ['exact' 'icontains']}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing comma between 'exact' and 'icontains' in list.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_51",
        "title": "Database Function",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models.functions import Coalesce, Value\n\nArticle.objects.annotate(\n    display_title=Coalesce('title', Value('Untitled'))\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Coalesce correctly returns first non-null value.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_53",
        "title": "Async ORM Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from asgiref.sync import sync_to_async\n\nasync def get_articles(request):\n    articles = Article.objects.all()\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "ORM calls need sync_to_async wrapper in async views.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_52",
        "title": "Geo Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.gis.db.models.functions import Distance\nfrom django.contrib.gis.geos import Point\n\nref_point = Point(-73.9857, 40.7484, srid=4326)\nPlace.objects.annotate(\n    distance=Distance('location', ref_point)\n).order_by('distance')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly calculates and orders by distance from a point.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_54",
        "title": "Cache Versioning Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.cache import cache\n\ndef get_article(pk):\n    key = f'article:{pk}'\n    article = cache.get(key)\n    if article is None:\n        article = Article.objects.get(pk=pk)\n        cache.set(key, article)\n    return article",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Missing timeout parameter for cache.set. Should specify expiry time.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_53",
        "title": "Truncation Function",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models.functions import TruncMonth\nfrom django.db.models import Count\n\nArticle.objects.annotate(\n    month=TruncMonth('created')\n).values('month').annotate(\n    count=Count('id')\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly groups and counts articles by month.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_55",
        "title": "Custom Exception Handler",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework.views import exception_handler\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n    if response is not None:\n        response.data['status_code'] = response.status_code\n    return responses",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Typo: should return 'response', not 'responses'.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_54",
        "title": "Prefetch Object",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Prefetch\n\nAuthor.objects.prefetch_related(\n    Prefetch(\n        'articles',\n        queryset=Article.objects.filter(status='published'),\n        to_attr='published_articles'\n    )\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly uses Prefetch with custom queryset and attribute.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_56",
        "title": "Timezone Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from datetime import datetime\n\ndef create_event(request):\n    event = Event(\n        name='Conference',\n        start_time=datetime.now()\n    )\n    event.save()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Should use timezone.now() not datetime.now() for timezone-aware datetimes.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_55",
        "title": "Subquery Exists",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Exists, OuterRef\n\ncomments = Comment.objects.filter(article=OuterRef('pk'))\nArticle.objects.annotate(has_comments=Exists(comments))",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Exists subquery correctly checks for related records.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_57",
        "title": "Inline Formset Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.forms import inlineformset_factory\n\nImageFormSet = inlineformset_factory(\n    Article,\n    Image,\n    fields=['image', 'caption'],\n    extra=3\n    can_delete=True\n)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing comma after extra=3.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_56",
        "title": "Array Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.fields import ArrayField\n\nclass Article(models.Model):\n    tags = ArrayField(models.CharField(max_length=50), blank=True, default=list)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ArrayField is correctly defined with base field and default.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_58",
        "title": "SelectForUpdate Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import transaction\n\n@transaction.atomic\ndef update_balance(account_id, amount):\n    account = Account.objects.select_for_update().get(id=account_id)\n    account.balance += amount\n    account.save()\n    return account",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "This is actually correct code. The error would be if nowait=True was missing when needed for non-blocking.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_57",
        "title": "HStore Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.fields import HStoreField\n\nclass Product(models.Model):\n    metadata = HStoreField(blank=True, default=dict)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "HStoreField is correctly defined for key-value storage.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_59",
        "title": "Signal Weak False",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models.signals import pre_save\n\ndef slugify_title(sender, instance, **kwargs):\n    instance.slug = slugify(instance.title)\n\nfor model in [Article, News, Blog]:\n    pre_save.connect(slugify_title, sender=model)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "In loops, need weak=False to prevent garbage collection of handler.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_58",
        "title": "Range Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.fields import DateTimeRangeField\nfrom psycopg2.extras import DateTimeTZRange\n\nclass Booking(models.Model):\n    period = DateTimeRangeField()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "DateTimeRangeField is correctly defined for range data.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_60",
        "title": "Custom Lookup Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models import Lookup\n\nclass NotEqual(Lookup):\n    lookup_name = 'ne'\n\n    def as_sql(self, compiler, connection):\n        lhs, lhs_params = self.process_lhs(compiler, connection)\n        rhs, rhs_params = self.process_rhs(compiler, connection)\n        return '%s <> %s' % (lhs, rhs), lhs_params + rhs_params\n\nmodels.Field.register_lookup(NotEqual)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 8,
        "explanation": "params should be list concatenation: list(lhs_params) + list(rhs_params).",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_59",
        "title": "Full Text Search",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.search import SearchVector, SearchQuery\n\nArticle.objects.annotate(\n    search=SearchVector('title', 'content')\n).filter(\n    search=SearchQuery('django')\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly implements PostgreSQL full-text search.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_61",
        "title": "Streaming Response Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import StreamingHttpResponse\n\ndef generate_large_file():\n    for i in range(1000000):\n        yield f'Line {i}\\n'\n\ndef download(request):\n    response = StreamingHttpResponse(generate_large_file)\n    response['Content-Type'] = 'text/plain'\n    return response",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Missing parentheses. Should be generate_large_file() to call the generator.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_60",
        "title": "CIDR Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.fields import CICharField\n\nclass Tag(models.Model):\n    name = CICharField(max_length=50, unique=True)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "CICharField provides case-insensitive character field.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_62",
        "title": "Channels Consumer Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from channels.generic.websocket import AsyncWebsocketConsumer\nimport json\n\nclass ChatConsumer(AsyncWebsocketConsumer):\n    async def connect(self):\n        await self.accept()\n\n    async def receive(self, text_data):\n        data = json.loads(text_data)\n        await self.send(text_data=json.dumps(data))",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Typically needs channel layer group handling for multi-user chat.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_61",
        "title": "Trigram Similarity",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.search import TrigramSimilarity\n\nArticle.objects.annotate(\n    similarity=TrigramSimilarity('title', 'djang')\n).filter(similarity__gt=0.3).order_by('-similarity')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly uses trigram similarity for fuzzy matching.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_63",
        "title": "Dynamic Field Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class DynamicForm(forms.Form):\n    def __init__(self, fields_config, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        for name, field_type in fields_config.items():\n            self.fields[name] = getattr(forms, field_type)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Need to instantiate the field class: getattr(forms, field_type)().",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_62",
        "title": "GIN Index",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.indexes import GinIndex\n\nclass Article(models.Model):\n    title = models.CharField(max_length=200)\n    search_vector = SearchVectorField()\n\n    class Meta:\n        indexes = [GinIndex(fields=['search_vector'])]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "GIN index is correct for full-text search vectors.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_64",
        "title": "Command Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.management.base import BaseCommand\n\nclass Command(BaseCommand):\n    help = 'Import data from CSV'\n\n    def handle(self, *args, **options):\n        self.stdout.write('Starting import')\n        # import logic\n        self.stdout.write(self.style.SUCESS('Import complete'))",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 8,
        "explanation": "Typo: should be SUCCESS not SUCESS.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_63",
        "title": "Constraint Violation",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db import IntegrityError\n\ntry:\n    Article.objects.create(slug='duplicate')\nexcept IntegrityError:\n    pass",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly catches database integrity errors.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_65",
        "title": "Admin Action Error",
        "description": "Find the line with the error.",
        "codeSnippet": "def make_published(modeladmin, request, queryset):\n    queryset.update(status='published')\nmake_published.short_description = 'Mark as published'\n\nclass ArticleAdmin(admin.ModelAdmin):\n    actions = make_published",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "actions should be a list: [make_published].",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_64",
        "title": "Atomic Select",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db import transaction\n\nwith transaction.atomic():\n    account = Account.objects.select_for_update(skip_locked=True).first()\n    if account:\n        account.process()\n        account.save()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "skip_locked correctly skips locked rows without blocking.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_66",
        "title": "Admin Filter Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class DecadeListFilter(admin.SimpleListFilter):\n    title = 'decade'\n    parameter_name = 'decade'\n\n    def lookups(self, request, model_admin):\n        return (\n            ('80s', '1980s'),\n            ('90s', '1990s'),\n        )\n\n    def queryset(self, request, queryset):\n        if self.value() == '80s':\n            return queryset.filter(year__gte=1980, year__lt=1990)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 11,
        "explanation": "queryset method should handle all cases and return queryset for None value.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_65",
        "title": "Atomic On Commit",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db import transaction\n\ndef save_and_notify(article):\n    article.save()\n    transaction.on_commit(lambda: send_notification(article.id))",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "on_commit correctly schedules callback after successful commit.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_67",
        "title": "Admin Fieldsets Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    fieldsets = (\n        ('Basic', {\n            'fields': ('title', 'content')\n        }),\n        ('Meta', {\n            'fields': ['author', 'created']\n            'classes': ('collapse',)\n        })\n    )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing comma after 'fields' list.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_66",
        "title": "Raw ID Fields",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    raw_id_fields = ('author',)\n    autocomplete_fields = ('category',)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "raw_id_fields and autocomplete_fields are correctly configured.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_68",
        "title": "Custom Authentication Error",
        "description": "Find the line with the error.",
        "codeSnippet": "REST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework.authentication.TokenAuthentication',\n    ]\n    'DEFAULT_PERMISSION_CLASSES': [\n        'rest_framework.permissions.IsAuthenticated',\n    ]\n}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Missing comma after authentication classes list.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_67",
        "title": "Custom Pagination",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from rest_framework.pagination import PageNumberPagination\n\nclass LargeResultSetPagination(PageNumberPagination):\n    page_size = 100\n    page_size_query_param = 'page_size'\n    max_page_size = 1000",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct custom pagination class.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_69",
        "title": "Nested Serializer Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class AuthorSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Author\n        fields = ['name', 'email']\n\nclass ArticleSerializer(serializers.ModelSerializer):\n    author = AuthorSerializer\n\n    class Meta:\n        model = Article\n        fields = ['title', 'author']",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing parentheses. Should be AuthorSerializer() to instantiate.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_68",
        "title": "SerializerMethodField",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleSerializer(serializers.ModelSerializer):\n    word_count = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Article\n        fields = ['title', 'content', 'word_count']\n\n    def get_word_count(self, obj):\n        return len(obj.content.split())",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "SerializerMethodField is correctly implemented.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_70",
        "title": "Writable Nested Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleSerializer(serializers.ModelSerializer):\n    tags = TagSerializer(many=True)\n\n    class Meta:\n        model = Article\n        fields = ['title', 'tags']\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags')\n        article = Article.objects.create(validated_data)\n        return article",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "Should unpack: Article.objects.create(**validated_data).",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_69",
        "title": "Slug Related Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleSerializer(serializers.ModelSerializer):\n    author = serializers.SlugRelatedField(\n        queryset=User.objects.all(),\n        slug_field='username'\n    )",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "SlugRelatedField is correctly configured for lookup by username.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_71",
        "title": "ViewSet Permission Error",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleViewSet(viewsets.ModelViewSet):\n    queryset = Article.objects.all()\n    serializer_class = ArticleSerializer\n\n    def get_permissions(self):\n        if self.action == 'list':\n            return [AllowAny]\n        return [IsAuthenticated()]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Permission classes need instantiation: [AllowAny()].",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_70",
        "title": "Primary Key Related",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleSerializer(serializers.ModelSerializer):\n    author_id = serializers.PrimaryKeyRelatedField(\n        queryset=User.objects.all(),\n        source='author'\n    )",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "PrimaryKeyRelatedField correctly maps author_id to author relation.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_72",
        "title": "Constraint Check",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models import Q, F\n\nclass Booking(models.Model):\n    start = models.DateTimeField()\n    end = models.DateTimeField()\n\n    class Meta:\n        constraints = [\n            models.CheckConstraint(\n                check=Q(end_gt=F('start')),\n                name='valid_booking'\n            )\n        ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "Wrong lookup. Should be end__gt=F('start').",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_71",
        "title": "Current User Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Article\n        fields = ['title', 'content']\n\n    def create(self, validated_data):\n        validated_data['author'] = self.context['request'].user\n        return super().create(validated_data)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly sets current user from request context.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_73",
        "title": "Pagination Response",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework.pagination import PageNumberPagination\n\nclass ArticlePagination(PageNumberPagination):\n    page_size = 10\n\n    def get_paginated_response(self, data):\n        return Response({\n            'count': self.page.paginator.count,\n            'results': data\n        })",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing import for Response from rest_framework.response.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_72",
        "title": "Hidden Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleSerializer(serializers.ModelSerializer):\n    author = serializers.HiddenField(\n        default=serializers.CurrentUserDefault()\n    )",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "HiddenField with CurrentUserDefault correctly auto-sets author.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_74",
        "title": "Action Decorator",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework.decorators import action\n\nclass ArticleViewSet(viewsets.ModelViewSet):\n    @action(detail=True, method=['post'])\n    def publish(self, request, pk=None):\n        article = self.get_object()\n        article.publish()\n        return Response({'status': 'published'})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should be methods=['post'], not method=['post'].",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_73",
        "title": "URL Action",
        "description": "Is this code snippet correct?",
        "codeSnippet": "@action(detail=False, methods=['get'], url_path='recent')\ndef recent(self, request):\n    recent = Article.objects.order_by('-created')[:10]\n    serializer = self.get_serializer(recent, many=True)\n    return Response(serializer.data)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly defines a custom list action.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_75",
        "title": "Filter Backend",
        "description": "Find the line with the error.",
        "codeSnippet": "from rest_framework import filters\n\nclass ArticleViewSet(viewsets.ModelViewSet):\n    queryset = Article.objects.all()\n    filter_backends = [filters.SearchFilter]\n    search_fields = 'title'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "search_fields should be a list: ['title'].",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_74",
        "title": "Ordering Filter",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleViewSet(viewsets.ModelViewSet):\n    filter_backends = [filters.OrderingFilter]\n    ordering_fields = ['created', 'title']\n    ordering = ['-created']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "OrderingFilter is correctly configured with default ordering.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_76",
        "title": "Schema Override",
        "description": "Find the line with the error.",
        "codeSnippet": "from drf_spectacular.utils import extend_schema\n\nclass ArticleViewSet(viewsets.ModelViewSet):\n    @extend_schema(\n        request=ArticleSerializer,\n        responses={200: ArticleSerializer}\n    )\n    def create(self, request):\n        return super().create(request)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "For create, response should be 201, not 200.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_75",
        "title": "Swagger Tags",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from drf_spectacular.utils import extend_schema_view, extend_schema\n\n@extend_schema_view(\n    list=extend_schema(tags=['Articles']),\n    create=extend_schema(tags=['Articles'])\n)\nclass ArticleViewSet(viewsets.ModelViewSet):\n    pass",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly groups actions under API tags.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_77",
        "title": "Bulk Create Conflict",
        "description": "Find the line with the error.",
        "codeSnippet": "Article.objects.bulk_create(\n    [Article(slug='a'), Article(slug='b')],\n    update_conflicts=True,\n    unique_fields=['slug'],\n    update_fields=['title', 'content']\n)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "In Django < 4.1, update_conflicts is ignore_conflicts. Also needs proper DB backend.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_76",
        "title": "Composed Permission",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from rest_framework.permissions import IsAuthenticated, IsAdminUser\n\nclass ArticleViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated | IsAdminUser]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "DRF 3.9+ supports | and & operators for combining permissions.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_78",
        "title": "Test Factory Error",
        "description": "Find the line with the error.",
        "codeSnippet": "import factory\n\nclass ArticleFactory(factory.django.DjangoModelFactory):\n    class Meta:\n        model = Article\n\n    title = factory.Faker('sentence')\n    author = factory.SubFactory('users.factories.UserFactory)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Missing closing quote for SubFactory string.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_77",
        "title": "Lazy Attribute",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleFactory(factory.django.DjangoModelFactory):\n    title = factory.Faker('sentence')\n    slug = factory.LazyAttribute(lambda o: slugify(o.title))",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "LazyAttribute correctly computes slug from title.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_79",
        "title": "Mock Patch Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from unittest.mock import patch\nfrom django.test import TestCase\n\nclass APITest(TestCase):\n    @patch('myapp.views.send_email')\n    def test_create(self, mock_email):\n        response = self.client.post('/api/articles/', {'title': 'Test'})\n        mock_email.assert_called_once()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "POST needs content_type='application/json' for JSON data.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_78",
        "title": "Freeze Gun",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from freezegun import freeze_time\nfrom django.test import TestCase\n\nclass DateTest(TestCase):\n    @freeze_time('2024-01-01')\n    def test_today(self):\n        self.assertEqual(timezone.now().date(), date(2024, 1, 1))",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "freeze_time correctly freezes time for testing.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_80",
        "title": "Celery Periodic Task",
        "description": "Find the line with the error.",
        "codeSnippet": "from celery import shared_task\nfrom celery.schedules import crontab\n\n@shared_task\ndef cleanup_old_data():\n    Article.objects.filter(created__lt=timezone.now() - timedelta(days=30)).delete()\n\napp.conf.beat_schedule = {\n    'cleanup-daily': {\n        'task': 'myapp.tasks.cleanup_old_data',\n        'schedule': crontab(hour=0, minute=0)\n    }\n}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Need sync_to_async or database_sync_to_async for ORM in async context, or ensure Celery worker is sync.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_79",
        "title": "Task Retry",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from celery import shared_task\nfrom celery.exceptions import MaxRetriesExceededError\n\n@shared_task(bind=True, max_retries=3)\ndef send_email(self, user_id):\n    try:\n        user = User.objects.get(id=user_id)\n        send_mail(...)\n    except Exception as exc:\n        self.retry(exc=exc, countdown=60)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly implements task retries with backoff.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_81",
        "title": "GraphQL Mutation",
        "description": "Find the line with the error.",
        "codeSnippet": "import graphene\n\nclass CreateArticle(graphene.Mutation):\n    class Arguments:\n        title = graphene.String(required=True)\n\n    article = graphene.Field(ArticleType)\n\n    def mutate(self, info, title):\n        article = Article.objects.create(title=title)\n        return CreateArticle(article=article)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 8,
        "explanation": "mutate should be @staticmethod or take root as first arg, not self.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_80",
        "title": "GraphQL Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "import graphene\nfrom graphene_django import DjangoObjectType\n\nclass ArticleType(DjangoObjectType):\n    class Meta:\n        model = Article\n        fields = ['id', 'title', 'content']\n\nclass Query(graphene.ObjectType):\n    articles = graphene.List(ArticleType)\n\n    def resolve_articles(root, info):\n        return Article.objects.all()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is correct GraphQL query implementation.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_82",
        "title": "Websocket Auth",
        "description": "Find the line with the error.",
        "codeSnippet": "from channels.middleware import BaseMiddleware\nfrom channels.db import database_sync_to_async\n\nclass TokenAuthMiddleware(BaseMiddleware):\n    async def __call__(self, scope, receive, send):\n        token = scope['query_string'].decode().split('=')[1]\n        scope['user'] = await self.get_user(token)\n        return await super().__call__(scope, receive, send)\n\n    @database_sync_to_async\n    def get_user(self, token):\n        return Token.objects.get(key=token).user",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 11,
        "explanation": "Should handle DoesNotExist exception for invalid tokens.",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_81",
        "title": "Channel Layer",
        "description": "Is this code snippet correct?",
        "codeSnippet": "CHANNEL_LAYERS = {\n    'default': {\n        'BACKEND': 'channels_redis.core.RedisChannelLayer',\n        'CONFIG': {\n            'hosts': [('127.0.0.1', 6379)],\n        },\n    },\n}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Redis channel layer is correctly configured.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_83",
        "title": "Database Trigger",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models import signals\n\ndef audit_log(sender, instance, created, **kwargs):\n    AuditLog.objects.create(\n        model=sender.__name__,\n        object_id=instance.pk,\n        action='create' if created else 'update'\n    )\n\nfor model in [Article, Comment, User]:\n    signals.post_save.connect(audit_log, sender=model)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 10,
        "explanation": "Need dispatch_uid or weak=False to avoid duplicate handlers.",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_82",
        "title": "Async Context",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from asgiref.sync import sync_to_async\n\n@sync_to_async\ndef get_articles():\n    return list(Article.objects.all())\n\nasync def article_list(request):\n    articles = await get_articles()\n    return JsonResponse({'articles': [a.title for a in articles]})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "sync_to_async correctly wraps ORM call for async view.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_84",
        "title": "Custom User Manager",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib.auth.models import BaseUserManager\n\nclass CustomUserManager(BaseUserManager):\n    def create_user(self, email, password=None, **extra_fields):\n        if not email:\n            raise ValueError('Email is required')\n        email = self.normalize_email(email)\n        user = self.model(email=email, **extra_fields)\n        user.set_password(password)\n        user.save()\n        return user\n\n    def create_superuser(self, email, password=None, **extra_fields):\n        extra_fields.setdefault('is_staff', True)\n        extra_fields.setdefault('is_superuser', True)\n        return self.create_user(email, password, **extra_fields)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "Missing using=self._db in save() call for multi-database support.",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_83",
        "title": "Composite PK",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class OrderItem(models.Model):\n    order = models.ForeignKey(Order, on_delete=models.CASCADE)\n    product = models.ForeignKey(Product, on_delete=models.CASCADE)\n    quantity = models.IntegerField()\n\n    class Meta:\n        unique_together = ['order', 'product']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "unique_together creates composite unique constraint.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_85",
        "title": "Multi-DB Router",
        "description": "Find the line with the error.",
        "codeSnippet": "class ShardRouter:\n    def db_for_read(self, model, **hints):\n        if hasattr(model, 'shard_key'):\n            instance = hints.get('instance')\n            if instance:\n                return f'shard_{instance.shard_key % 4}'\n        return 'default'\n\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        return True",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "allow_migrate should return None for undecided cases, not always True.",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_84",
        "title": "Read Replica",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class PrimaryReplicaRouter:\n    def db_for_read(self, model, **hints):\n        return random.choice(['replica1', 'replica2'])\n\n    def db_for_write(self, model, **hints):\n        return 'default'\n\n    def allow_relation(self, obj1, obj2, **hints):\n        return True",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is valid read replica router with random selection.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_86",
        "title": "Search Weights",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.contrib.postgres.search import SearchVector, SearchRank\n\nvector = SearchVector('title', weight='A') + SearchVector('content', weight='B')\nArticle.objects.annotate(\n    search=vector,\n    rank=SearchRank(vector, 'django')\n).order_by('-rank')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "SearchRank needs SearchQuery object, not string: SearchRank(vector, SearchQuery('django')).",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_85",
        "title": "GIN Trigram",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.indexes import GinIndex, OpClass\nfrom django.contrib.postgres.operations import TrigramExtension\n\nclass Migration(migrations.Migration):\n    operations = [\n        TrigramExtension(),\n    ]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "TrigramExtension correctly enables pg_trgm for fuzzy search.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_87",
        "title": "Lock Strategy",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import transaction\nfrom django.db.models import F\n\n@transaction.atomic\ndef increment_counter(pk):\n    obj = Counter.objects.select_for_update().get(pk=pk)\n    obj.count = F('count') + 1\n    obj.save()\n    return obj.count",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "After using F(), need refresh_from_db() to get actual value.",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_86",
        "title": "Deferred Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "article = Article.objects.defer('content').get(pk=1)\narticle.content  # Triggers additional query\narticle.save()  # Works but re-saves deferred content",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Deferred fields are lazily loaded when accessed.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_88",
        "title": "Expression Output",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models import Value\nfrom django.db.models.functions import Concat\n\nArticle.objects.annotate(\n    full_title=Concat('title', Value(' - '), 'subtitle')\n)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Need output_field for Concat: Concat(..., output_field=CharField()).",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_87",
        "title": "Cast Function",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models.functions import Cast\nfrom django.db.models import FloatField\n\nArticle.objects.annotate(\n    views_float=Cast('views', output_field=FloatField())\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Cast correctly converts field to different type.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_89",
        "title": "Related Name Clash",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    author = models.ForeignKey(User, on_delete=models.CASCADE)\n    editor = models.ForeignKey(User, on_delete=models.CASCADE)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Both FKs create reverse relation 'article_set'. Need related_name for each.",
        "difficultyLevel": 10
    },
    {
        "id": "django_tf_88",
        "title": "Related Query Name",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    author = models.ForeignKey(\n        User,\n        on_delete=models.CASCADE,\n        related_name='authored_articles',\n        related_query_name='authored_article'\n    )",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "related_query_name correctly sets filter lookup name.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_90",
        "title": "JSONField Default",
        "description": "Find the line with the error.",
        "codeSnippet": "class Profile(models.Model):\n    settings = models.JSONField(default={})\n    preferences = models.JSONField(default=[])",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Mutable default! Should use default=dict and default=list callables.",
        "difficultyLevel": 10
    },
    {
        "id": "django_err_91",
        "title": "Model Save Race",
        "description": "Find the line with the error.",
        "codeSnippet": "def update_counter(pk):\n    counter = Counter.objects.get(pk=pk)\n    counter.count += 1\n    counter.save()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Race condition! Another process may update between get and save. Use F() or select_for_update.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_89",
        "title": "Atomic Block",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db import transaction\n\ndef transfer(from_acc, to_acc, amount):\n    with transaction.atomic():\n        from_acc.balance -= amount\n        from_acc.save()\n        to_acc.balance += amount\n        to_acc.save()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "atomic block correctly wraps both operations.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_92",
        "title": "Unique Slug",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n\n    def save(self, *args, **kwargs):\n        self.slug = slugify(self.title)\n        super().save(*args, **kwargs)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Will fail on duplicate titles. Need to append suffix if slug exists.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_90",
        "title": "Exclude Filter",
        "description": "Is this code snippet correct?",
        "codeSnippet": "Article.objects.exclude(status='draft').filter(author=user)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "exclude and filter can be chained correctly.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_93",
        "title": "Template Load",
        "description": "Find the line with the error.",
        "codeSnippet": "{% load static %}\n{% load humanize %}\n<link href=\"{% static 'css/style.css' %}\">\n{{ value|intcomma }}\n{% loads i18n %}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Tag is 'load' not 'loads'.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_91",
        "title": "Template Include",
        "description": "Is this code snippet correct?",
        "codeSnippet": "{% include 'partials/header.html' with title=page_title only %}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "'only' keyword correctly limits context to specified variables.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_94",
        "title": "Widget Override",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleForm(forms.ModelForm):\n    class Meta:\n        model = Article\n        fields = ['title', 'content']\n        widgets = {\n            'content': Textarea(attrs={'rows': 10})\n        }",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Need forms.Textarea, not just Textarea.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_92",
        "title": "Form Field Order",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ContactForm(forms.Form):\n    name = forms.CharField()\n    email = forms.EmailField()\n    field_order = ['email', 'name']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "field_order correctly reorders form fields.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_95",
        "title": "Method Override",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleDetailView(DetailView):\n    model = Article\n\n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(kwargs)\n        context['related'] = Article.objects.all()[:5]\n        return context",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should be **kwargs, not kwargs.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_93",
        "title": "Delete View",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.views.generic.edit import DeleteView\n\nclass ArticleDeleteView(DeleteView):\n    model = Article\n    success_url = reverse_lazy('article_list')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "DeleteView is correctly configured.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_96",
        "title": "Form Valid",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleCreateView(CreateView):\n    model = Article\n    fields = ['title']\n\n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        super().form_valid(form)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Missing return statement. Should return super().form_valid(form).",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_94",
        "title": "FormSet",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.forms import modelformset_factory\n\nArticleFormSet = modelformset_factory(\n    Article, fields=['title'], extra=2, max_num=10\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "modelformset_factory is correctly configured.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_97",
        "title": "Admin Prepopulated",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    prepopulated_fields = {\n        'slug': ['title']\n    }",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Value should be tuple: ('title',) not list.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_95",
        "title": "Admin Search",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    search_fields = ['title', 'content', 'author__username']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "search_fields correctly includes related field lookup.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_98",
        "title": "Date Hierarchy",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    list_display = ['title', 'created']\n    date_hierarchy = ['created']",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "date_hierarchy should be string, not list: 'created'.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_96",
        "title": "List Filter",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    list_filter = ['status', 'created', 'author']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "list_filter is correctly configured.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_99",
        "title": "Readonly Fields",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    readonly_fields = 'created', 'modified'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Should be list or tuple: ('created', 'modified').",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_97",
        "title": "Admin Actions",
        "description": "Is this code snippet correct?",
        "codeSnippet": "@admin.action(description='Mark as published')\ndef make_published(modeladmin, request, queryset):\n    queryset.update(status='published')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "admin.action decorator correctly adds description.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_100",
        "title": "URL Named Group",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.urls import path\n\nurlpatterns = [\n    path('article/<int:pk>/', views.detail, name='detail'),\n    path('article/<slug>/', views.by_slug, name='by_slug'),\n]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing converter type. Should be <slug:slug> or <str:slug>.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_98",
        "title": "Re Path",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.urls import re_path\n\nurlpatterns = [\n    re_path(r'^archive/(?P<year>[0-9]{4})/$', views.archive),\n]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "re_path correctly uses regex pattern.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_101",
        "title": "Middleware Order",
        "description": "Find the line with the error.",
        "codeSnippet": "MIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.middleware.common.CommonMiddleware',\n]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "AuthenticationMiddleware requires SessionMiddleware to be BEFORE it, but CommonMiddleware should be before sessions.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_99",
        "title": "CSRF Token",
        "description": "Is this code snippet correct?",
        "codeSnippet": "<form method=\"post\">\n    {% csrf_token %}\n    {{ form.as_p }}\n    <button type=\"submit\">Submit</button>\n</form>",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "csrf_token is correctly placed in POST form.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_102",
        "title": "Static Files",
        "description": "Find the line with the error.",
        "codeSnippet": "# settings.py\nSTATIC_URL = '/static/'\nSTATICFILES_DIRS = [\n    BASE_DIR / 'static',\n]\nSTATIC_ROOT = BASE_DIR / 'static'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "STATIC_ROOT cannot be same as STATICFILES_DIRS path.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_100",
        "title": "Media Root",
        "description": "Is this code snippet correct?",
        "codeSnippet": "MEDIA_URL = '/media/'\nMEDIA_ROOT = BASE_DIR / 'media'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "MEDIA settings are correctly configured.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_103",
        "title": "Debug URLs",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    # ... urls\n]\n\nurlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Should be wrapped in if settings.DEBUG: block for production.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_101",
        "title": "Template Dirs",
        "description": "Is this code snippet correct?",
        "codeSnippet": "TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [BASE_DIR / 'templates'],\n        'APP_DIRS': True,\n    }\n]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "TEMPLATES are correctly configured.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_104",
        "title": "Database Config",
        "description": "Find the line with the error.",
        "codeSnippet": "DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': 'mydb',\n        'HOST': 'localhost'\n        'PORT': '5432',\n    }\n}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing comma after 'localhost'.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_102",
        "title": "DB Options",
        "description": "Is this code snippet correct?",
        "codeSnippet": "DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'OPTIONS': {\n            'connect_timeout': 10,\n        },\n    }\n}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "OPTIONS correctly sets connection options.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_105",
        "title": "Celery Config",
        "description": "Find the line with the error.",
        "codeSnippet": "# celery.py\nimport os\nfrom celery import Celery\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\napp = Celery('myproject')\napp.config_from_object('django.conf.settings', namespace='CELERY')\napp.autodiscover_tasks()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Should use 'django.conf:settings' (colon not dot) for lazy loading.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_103",
        "title": "Celery Import",
        "description": "Is this code snippet correct?",
        "codeSnippet": "# __init__.py\nfrom .celery import app as celery_app\n\n__all__ = ('celery_app',)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This correctly exports celery app at package level.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_106",
        "title": "Cache Config",
        "description": "Find the line with the error.",
        "codeSnippet": "CACHES = {\n    'default': {\n        'BACKEND': 'django.core.cache.backends.redis.RedisCache',\n        'LOCATION': 'redis://localhost:6379',\n    }\n}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should include database number: redis://localhost:6379/0.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_104",
        "title": "Session Engine",
        "description": "Is this code snippet correct?",
        "codeSnippet": "SESSION_ENGINE = 'django.contrib.sessions.backends.cache'\nSESSION_CACHE_ALIAS = 'default'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Session is correctly configured to use cache.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_107",
        "title": "Logging Config",
        "description": "Find the line with the error.",
        "codeSnippet": "LOGGING = {\n    'version': 1,\n    'handlers': {\n        'console': {\n            'class': 'logging.StreamHandler',\n        },\n    },\n    'loggers': {\n        'django': {\n            'handlers': 'console',\n            'level': 'INFO',\n        },\n    },\n}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 9,
        "explanation": "handlers should be list: ['console'].",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_105",
        "title": "Logging Filters",
        "description": "Is this code snippet correct?",
        "codeSnippet": "LOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'formatters': {\n        'verbose': {\n            'format': '{levelname} {asctime} {module} {message}',\n            'style': '{',\n        },\n    },\n}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Logging formatter is correctly configured.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_108",
        "title": "Test Setup",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.test import TestCase\n\nclass ArticleTest(TestCase):\n    @classmethod\n    def setUpClass(cls):\n        cls.user = User.objects.create_user('test')\n\n    def test_article(self):\n        pass",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing super().setUpClass() call.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_106",
        "title": "Test Client",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class APITest(TestCase):\n    def test_list(self):\n        self.client.force_login(self.user)\n        response = self.client.get('/api/articles/')\n        self.assertEqual(response.status_code, 200)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "force_login correctly authenticates test client.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_109",
        "title": "Fixtures",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleTest(TestCase):\n    fixtures = 'articles.json'\n\n    def test_count(self):\n        self.assertEqual(Article.objects.count(), 10)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "fixtures should be a list: ['articles.json'].",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_107",
        "title": "Transaction Test",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.test import TransactionTestCase\n\nclass TransferTest(TransactionTestCase):\n    def test_atomic_transfer(self):\n        # Tests that need real transactions\n        pass",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "TransactionTestCase correctly allows real DB transactions.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_110",
        "title": "Mock Model",
        "description": "Find the line with the error.",
        "codeSnippet": "from unittest.mock import patch, Mock\n\nclass ViewTest(TestCase):\n    @patch('myapp.views.Article.objects.get')\n    def test_detail(self, mock_get):\n        mock_get.return_value = Mock(title='Test')\n        response = self.client.get('/article/1/')\n        self.assertEqual(response.status_code, 200)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Can't patch queryset methods directly. Need to patch the model or use factory.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_108",
        "title": "Override Settings",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.test import TestCase, override_settings\n\nclass CacheTest(TestCase):\n    @override_settings(CACHES={'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}})\n    def test_cache(self):\n        pass",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "override_settings correctly overrides settings for test.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_111",
        "title": "Signal Test",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.test import TestCase\nfrom unittest.mock import patch\n\nclass SignalTest(TestCase):\n    @patch('myapp.signals.send_notification')\n    def test_signal(self, mock_send):\n        Article.objects.create(title='Test')\n        mock_send.assert_called_once()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Signal handlers registered at import. May need to disconnect/reconnect or use mute_signals.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_109",
        "title": "Mute Signals",
        "description": "Is this code snippet correct?",
        "codeSnippet": "import factory\nfrom factory.django import mute_signals\nfrom django.db.models.signals import post_save\n\n@mute_signals(post_save)\nclass ArticleFactory(factory.django.DjangoModelFactory):\n    class Meta:\n        model = Article",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "mute_signals correctly prevents signal firing in factory.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_112",
        "title": "Live Server",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.test import LiveServerTestCase\nfrom selenium import webdriver\n\nclass SeleniumTest(LiveServerTestCase):\n    def setUp(self):\n        self.browser = webdriver.Chrome()\n\n    def test_home(self):\n        self.browser.get(self.live_server_url)\n        self.assertIn('Home', self.browser.title)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing tearDown to close browser. Will leak browser instances.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_110",
        "title": "API Test",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from rest_framework.test import APITestCase\n\nclass ArticleAPITest(APITestCase):\n    def test_create(self):\n        self.client.credentials(HTTP_AUTHORIZATION='Token ' + self.token.key)\n        response = self.client.post('/api/articles/', {'title': 'Test'})\n        self.assertEqual(response.status_code, 201)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "credentials correctly sets auth header for API tests.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_113",
        "title": "Coverage Config",
        "description": "Find the line with the error.",
        "codeSnippet": "# setup.cfg\n[coverage:run]\nsource = myapp\nomit = */migrations/*, */tests/*",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "omit patterns should be on separate lines or use proper glob syntax.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_111",
        "title": "Pytest Django",
        "description": "Is this code snippet correct?",
        "codeSnippet": "# conftest.py\nimport pytest\n\n@pytest.fixture\ndef user(db):\n    return User.objects.create_user('test')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "db fixture correctly enables database access.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_114",
        "title": "Deployment Check",
        "description": "Find the line with the error.",
        "codeSnippet": "# settings/production.py\nDEBUG = False\nALLOWED_HOSTS = ['*']\nSECRET_KEY = 'my-secret-key'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "SECRET_KEY should come from environment variable, not hardcoded.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_112",
        "title": "Env Config",
        "description": "Is this code snippet correct?",
        "codeSnippet": "import os\nfrom dotenv import load_dotenv\n\nload_dotenv()\nSECRET_KEY = os.environ.get('SECRET_KEY')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Environment-based configuration is correct.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_115",
        "title": "WSGI App",
        "description": "Find the line with the error.",
        "codeSnippet": "# wsgi.py\nimport os\nfrom django.core.wsgi import get_wsgi_application\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\napplication = get_wsgi_application",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing parentheses. Should be get_wsgi_application().",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_113",
        "title": "ASGI App",
        "description": "Is this code snippet correct?",
        "codeSnippet": "import os\nfrom django.core.asgi import get_asgi_application\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\napplication = get_asgi_application()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ASGI application is correctly configured.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_116",
        "title": "Gunicorn Config",
        "description": "Find the line with the error.",
        "codeSnippet": "# gunicorn.conf.py\nworkers = 4\nbind = '0.0.0.0:8000'\nworker_class = 'gevent'\ntimeout = 30",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Using gevent with Django requires special setup. Use 'sync' or 'uvicorn.workers.UvicornWorker'.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_114",
        "title": "Docker Build",
        "description": "Is this code snippet correct?",
        "codeSnippet": "FROM python:3.11-slim\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install -r requirements.txt\nCOPY . .\nCMD [\"gunicorn\", \"myproject.wsgi:application\", \"--bind\", \"0.0.0.0:8000\"]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "This is a valid Django Dockerfile.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_117",
        "title": "Nginx Proxy",
        "description": "Find the line with the error.",
        "codeSnippet": "location / {\n    proxy_pass http://localhost:8000;\n    proxy_set_header Host $host;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto http;\n}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should be $scheme not hardcoded 'http' for HTTPS support.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_115",
        "title": "Healthcheck",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.http import JsonResponse\n\ndef healthcheck(request):\n    return JsonResponse({'status': 'healthy'})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Simple healthcheck endpoint is correctly implemented.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_118",
        "title": "Management Command Args",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.management.base import BaseCommand\n\nclass Command(BaseCommand):\n    def add_arguments(self, parser):\n        parser.add_argument('--count', type='int', default=10)\n\n    def handle(self, *args, **options):\n        count = options['count']",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "type should be int (the function), not 'int' (string).",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_116",
        "title": "Call Command",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.core.management import call_command\n\ncall_command('migrate', '--no-input')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "call_command correctly invokes management command.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_119",
        "title": "Fixture Dump",
        "description": "Find the line with the error.",
        "codeSnippet": "# Dump fixtures\npython manage.py dumpdata myapp.Article --indent 2 > fixtures/articles.json",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Should use --output flag: --output fixtures/articles.json",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_117",
        "title": "Squash Migrations",
        "description": "Is this code snippet correct?",
        "codeSnippet": "python manage.py squashmigrations myapp 0001 0010",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "squashmigrations correctly squashes migration range.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_120",
        "title": "Data Migration",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db import migrations\n\ndef forwards(apps, schema_editor):\n    Article = apps.get_model('myapp', 'Article')\n    Article.objects.update(status='published')\n\nclass Migration(migrations.Migration):\n    operations = [\n        migrations.RunPython(forwards),\n    ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 8,
        "explanation": "RunPython should have reverse function or migrations.RunPython.noop.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_118",
        "title": "Add Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Migration(migrations.Migration):\n    operations = [\n        migrations.AddField(\n            model_name='article',\n            name='views',\n            field=models.IntegerField(default=0),\n        ),\n    ]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "AddField operation is correctly configured.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_121",
        "title": "Separate Database",
        "description": "Find the line with the error.",
        "codeSnippet": "class Migration(migrations.Migration):\n    operations = [\n        migrations.SeparateDatabaseAndState(\n            state_operations=[\n                migrations.RemoveField('article', 'old_field'),\n            ],\n            database_operations=[],\n        ),\n    ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "RemoveField takes model_name and name kwargs, not positional args.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_119",
        "title": "Alter Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "migrations.AlterField(\n    model_name='article',\n    name='title',\n    field=models.CharField(max_length=500),\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "AlterField correctly changes field definition.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_122",
        "title": "Signal Import",
        "description": "Find the line with the error.",
        "codeSnippet": "# apps.py\nfrom django.apps import AppConfig\n\nclass MyappConfig(AppConfig):\n    name = 'myapp'\n\n    def ready(self):\n        import myapp.signals",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 7,
        "explanation": "Should use 'from myapp import signals' or protect against reimport.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_120",
        "title": "App Label",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class MyappConfig(AppConfig):\n    default_auto_field = 'django.db.models.BigAutoField'\n    name = 'myapp'\n    verbose_name = 'My Application'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "AppConfig is correctly configured with verbose_name.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_123",
        "title": "Verbose Name Plural",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(max_length=200)\n\n    class Meta:\n        verbose_name = 'Article'\n        verbose_name_plural = 'Articless'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Typo: should be 'Articles' not 'Articless'.",
        "difficultyLevel": 2
    },
    {
        "id": "django_tf_121",
        "title": "Ordering Meta",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Meta:\n    ordering = ['-created', 'title']\n    get_latest_by = 'created'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Meta ordering and get_latest_by are correctly set.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_124",
        "title": "DB Table Name",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    class Meta:\n        db_table = 'myapp-articles'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Table names shouldn't have hyphens. Use underscores: 'myapp_articles'.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_122",
        "title": "Managed False",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class LegacyTable(models.Model):\n    class Meta:\n        managed = False\n        db_table = 'legacy_data'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "managed=False correctly maps to existing table.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_125",
        "title": "Swappable Model",
        "description": "Find the line with the error.",
        "codeSnippet": "class CustomUser(AbstractUser):\n    class Meta:\n        swappable = AUTH_USER_MODEL",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "swappable should be string 'AUTH_USER_MODEL', not the variable.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_123",
        "title": "Default Related",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Meta:\n    default_related_name = '%(model_name)ss'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "default_related_name uses valid template syntax.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_126",
        "title": "Base Manager",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset().filter(is_active=True)\n\nclass Article(models.Model):\n    objects = ArticleManager()\n\n    class Meta:\n        base_manager_name = 'objects'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 8,
        "explanation": "With filtered base manager, related object lookups may fail. Use unfiltered base manager.",
        "difficultyLevel": 9
    },
    {
        "id": "django_tf_124",
        "title": "Default Manager",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    objects = models.Manager()\n    published = PublishedManager()\n\n    class Meta:\n        default_manager_name = 'objects'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "default_manager_name correctly sets default manager.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_127",
        "title": "Indexes Name",
        "description": "Find the line with the error.",
        "codeSnippet": "class Meta:\n    indexes = [\n        models.Index(fields=['title'], name='article_title'),\n        models.Index(fields=['title'], name='article_title'),\n    ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Duplicate index name. Each index needs unique name.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_125",
        "title": "Condition Index",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Q\n\nclass Meta:\n    indexes = [\n        models.Index(fields=['status'], condition=Q(status='active'), name='active_idx'),\n    ]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Partial index with condition is correctly defined.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_128",
        "title": "Constraint Name Too Long",
        "description": "Find the line with the error.",
        "codeSnippet": "class Meta:\n    constraints = [\n        models.UniqueConstraint(\n            fields=['very_long_field_name_one', 'very_long_field_name_two'],\n            name='myapp_veryveryveryverylongmodelname_unique_constraint_for_fields'\n        )\n    ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Constraint name exceeds PostgreSQL 63 character limit.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_126",
        "title": "Exclude Constraint",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.postgres.constraints import ExclusionConstraint\nfrom django.contrib.postgres.fields import RangeOperators\n\nclass Meta:\n    constraints = [\n        ExclusionConstraint(\n            name='no_overlap',\n            expressions=[('period', RangeOperators.OVERLAPS)],\n        ),\n    ]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ExclusionConstraint correctly prevents overlapping ranges.",
        "difficultyLevel": 9
    },
    {
        "id": "django_err_129",
        "title": "Permissions Tuple",
        "description": "Find the line with the error.",
        "codeSnippet": "class Meta:\n    permissions = [\n        ['can_publish', 'Can Publish Article'],\n        ['can_feature', 'Can Feature Article'],\n    ]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Inner elements should be tuples, not lists.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_127",
        "title": "Default Permissions",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Meta:\n    default_permissions = ('add', 'change', 'delete')\n    permissions = [('can_view', 'Can View')]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "default_permissions and custom permissions are correctly defined.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_130",
        "title": "String Field Null",
        "description": "Find the line with the error.",
        "codeSnippet": "class Profile(models.Model):\n    bio = models.TextField(null=True, blank=True)\n    website = models.CharField(max_length=200, null=True, blank=True)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Avoid null=True on TextField/CharField. Use blank=True with default=''.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_128",
        "title": "EmailField",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class User(models.Model):\n    email = models.EmailField(unique=True, max_length=254)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "EmailField with unique constraint is correctly defined.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_131",
        "title": "DecimalField Precision",
        "description": "Find the line with the error.",
        "codeSnippet": "class Product(models.Model):\n    price = models.DecimalField(max_digits=5, decimal_places=4)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Only 1 digit before decimal (5-4=1). Likely needs more max_digits.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_129",
        "title": "PositiveIntegerField",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Product(models.Model):\n    quantity = models.PositiveIntegerField(default=0)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "PositiveIntegerField correctly constrains to >= 0.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_132",
        "title": "Auto Field",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    id = models.AutoField()\n    title = models.CharField(max_length=200)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "AutoField requires primary_key=True.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_130",
        "title": "BigAutoField",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    id = models.BigAutoField(primary_key=True)\n    title = models.CharField(max_length=200)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "BigAutoField correctly used as primary key.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_133",
        "title": "UUID Default",
        "description": "Find the line with the error.",
        "codeSnippet": "import uuid\n\nclass Article(models.Model):\n    id = models.UUIDField(primary_key=True, default=uuid.uuid4())",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should be uuid.uuid4 (callable), not uuid.uuid4() (called).",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_131",
        "title": "Editable False",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    slug = models.SlugField(editable=False)\n    created = models.DateTimeField(auto_now_add=True)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "editable=False correctly hides field from forms.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_134",
        "title": "Error Messages",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    title = models.CharField(\n        max_length=200,\n        error_messages={'unique': 'Title already exists'}\n    )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Field doesn't have unique=True, so 'unique' error message is unused.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_132",
        "title": "Help Text",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    content = models.TextField(help_text='Enter article content in markdown')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "help_text correctly provides field guidance.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_135",
        "title": "Validators List",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.validators import MinValueValidator\n\nclass Product(models.Model):\n    price = models.DecimalField(\n        max_digits=10, decimal_places=2,\n        validators=MinValueValidator(0)\n    )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "validators should be a list: [MinValueValidator(0)].",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_133",
        "title": "Multiple Validators",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.core.validators import MinLengthValidator, MaxLengthValidator\n\nclass Article(models.Model):\n    title = models.CharField(\n        max_length=200,\n        validators=[MinLengthValidator(10), MaxLengthValidator(100)]\n    )",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Multiple validators are correctly applied.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_136",
        "title": "Choice Validator",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    status = models.CharField(max_length=20)\n    STATUS_CHOICES = [('draft', 'Draft'), ('published', 'Published')]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Field doesn't use choices. Should add choices=STATUS_CHOICES.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_134",
        "title": "TextChoices",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    class Status(models.TextChoices):\n        DRAFT = 'draft', 'Draft'\n        PUBLISHED = 'published', 'Published'\n\n    status = models.CharField(max_length=20, choices=Status.choices)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "TextChoices enum is correctly used.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_137",
        "title": "One To One",
        "description": "Find the line with the error.",
        "codeSnippet": "class Profile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE\n    bio = models.TextField(blank=True)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Missing closing parenthesis.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_135",
        "title": "Self Reference",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Category(models.Model):\n    name = models.CharField(max_length=100)\n    parent = models.ForeignKey('self', on_delete=models.CASCADE, null=True, blank=True)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Self-referential ForeignKey is correctly defined.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_138",
        "title": "Through Model",
        "description": "Find the line with the error.",
        "codeSnippet": "class Membership(models.Model):\n    person = models.ForeignKey('Person', on_delete=models.CASCADE)\n    group = models.ForeignKey('Group', on_delete=models.CASCADE)\n\nclass Person(models.Model):\n    groups = models.ManyToManyField('Group', through=Membership)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "through should be string 'Membership' since it's defined before Person.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_136",
        "title": "Related Name Plus",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Base(models.Model):\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='%(class)s_set')\n\n    class Meta:\n        abstract = True",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "%(class)s correctly generates unique related names for abstract models.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_139",
        "title": "Limit Choices To",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    author = models.ForeignKey(\n        User, on_delete=models.CASCADE,\n        limit_choices_to={'is_staff': 'True'}\n    )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should be boolean True, not string 'True'.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_137",
        "title": "Q Limit Choices",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Q\n\nclass Article(models.Model):\n    author = models.ForeignKey(\n        User, on_delete=models.CASCADE,\n        limit_choices_to=Q(is_staff=True) | Q(is_superuser=True)\n    )",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Q objects can be used in limit_choices_to.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_140",
        "title": "Generic View Import",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views.generic import (\n    ListView, DetailView, CreateView, UpdateView, DeleteView\n)\nfrom django.views.generic import FormView",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "FormView is in django.views.generic.edit, not django.views.generic.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_138",
        "title": "Mixin Order",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.contrib.auth.mixins import LoginRequiredMixin, PermissionRequiredMixin\n\nclass ArticleCreateView(LoginRequiredMixin, PermissionRequiredMixin, CreateView):\n    permission_required = 'myapp.add_article'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Mixins are correctly ordered before base view.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_141",
        "title": "Dispatch Override",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleView(View):\n    def dispatch(self, request, *args, **kwargs):\n        if not request.user.is_authenticated:\n            return redirect('login')\n        super().dispatch(request, *args, **kwargs)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing return statement before super().dispatch().",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_139",
        "title": "Get Queryset",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleListView(ListView):\n    model = Article\n\n    def get_queryset(self):\n        return super().get_queryset().filter(status='published')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "get_queryset correctly filters the default queryset.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_142",
        "title": "Success URL Lazy",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.urls import reverse\n\nclass ArticleCreateView(CreateView):\n    model = Article\n    success_url = reverse('article_list')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should use reverse_lazy, not reverse, at class level.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_140",
        "title": "Get Success URL",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleCreateView(CreateView):\n    model = Article\n\n    def get_success_url(self):\n        return reverse('article_detail', kwargs={'pk': self.object.pk})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "get_success_url correctly uses self.object for dynamic URL.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_143",
        "title": "Paginate By Type",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleListView(ListView):\n    model = Article\n    paginate_by = '10'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "paginate_by should be integer 10, not string '10'.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_141",
        "title": "Context Object Name",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleListView(ListView):\n    model = Article\n    context_object_name = 'articles'\n    template_name = 'articles/list.html'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ListView is correctly configured with context_object_name.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_144",
        "title": "Initial Dict",
        "description": "Find the line with the error.",
        "codeSnippet": "class ContactView(FormView):\n    form_class = ContactForm\n    initial = {'subject': 'Hello'}\n\n    def get_initial(self):\n        initial = self.initial\n        initial['email'] = self.request.user.email\n        return initial",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Modifies class attribute. Should use super().get_initial() or self.initial.copy().",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_142",
        "title": "Template Name Suffix",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleCreateView(CreateView):\n    model = Article\n    template_name_suffix = '_create_form'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "template_name_suffix correctly overrides default '_form'.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_145",
        "title": "PK URL Kwarg",
        "description": "Find the line with the error.",
        "codeSnippet": "path('article/<int:article_id>/', ArticleDetailView.as_view())\n\nclass ArticleDetailView(DetailView):\n    model = Article",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Need pk_url_kwarg = 'article_id' since URL uses article_id not pk.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_143",
        "title": "Slug URL Kwarg",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleDetailView(DetailView):\n    model = Article\n    slug_field = 'slug'\n    slug_url_kwarg = 'article_slug'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "slug_field and slug_url_kwarg correctly configure slug lookup.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_146",
        "title": "Extra Context",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleDetailView(DetailView):\n    model = Article\n    extra_context = {'now': timezone.now()}",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "timezone.now() evaluated at class definition time, not request time.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_144",
        "title": "Http Method Names",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleView(View):\n    http_method_names = ['get', 'post', 'head', 'options']",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "http_method_names correctly restricts allowed methods.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_147",
        "title": "Return JSON Error",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import JsonResponse\n\ndef api_list(request):\n    articles = list(Article.objects.values())\n    return JsonResponse(articles)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "JsonResponse needs safe=False for non-dict data (list).",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_145",
        "title": "Http Response",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.http import HttpResponse\n\ndef download(request):\n    response = HttpResponse(content_type='text/csv')\n    response['Content-Disposition'] = 'attachment; filename=\"data.csv\"'\n    return response",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "HttpResponse correctly configured for file download.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_148",
        "title": "Require Methods",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views.decorators.http import require_http_methods\n\n@require_http_methods(['GET', 'POST'])\ndef my_view(request):\n    pass",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Methods should be uppercase but this is actually correct. The error is missing return statement.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_146",
        "title": "Require POST",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.views.decorators.http import require_POST\n\n@require_POST\ndef submit(request):\n    return JsonResponse({'status': 'ok'})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "require_POST correctly restricts to POST method.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_149",
        "title": "CSRF Exempt",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views.decorators.csrf import csrf_exempt\n\n@csrf_exempt\nclass APIView(View):\n    def post(self, request):\n        return JsonResponse({'status': 'ok'})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "csrf_exempt can't decorate classes directly. Use method_decorator.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_147",
        "title": "Method Decorator",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.utils.decorators import method_decorator\nfrom django.views.decorators.csrf import csrf_exempt\n\n@method_decorator(csrf_exempt, name='dispatch')\nclass APIView(View):\n    pass",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "method_decorator correctly applies function decorator to class.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_150",
        "title": "Vary Header",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views.decorators.vary import vary_on_headers\n\n@vary_on_headers('Cookie', 'Accept-Language')\n@cache_page(60 * 15)\ndef my_view(request):\n    pass",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "vary_on_headers should be after cache_page (closer to function).",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_148",
        "title": "Never Cache",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.views.decorators.cache import never_cache\n\n@never_cache\ndef sensitive_view(request):\n    return render(request, 'sensitive.html')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "never_cache correctly prevents caching.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_151",
        "title": "GZip Content",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.views.decorators.gzip import gzip_page\n\n@gzip_page\ndef large_response(request):\n    return JsonResponse({'data': large_data}, safe=False)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "large_data variable is not defined.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_149",
        "title": "Condition Decorator",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.views.decorators.http import condition\n\ndef latest_entry_etag(request):\n    return Article.objects.latest('modified').modified.isoformat()\n\n@condition(etag_func=latest_entry_etag)\ndef article_list(request):\n    pass",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "condition decorator correctly sets ETag for conditional requests.",
        "difficultyLevel": 8
    },
    {
        "id": "django_err_152",
        "title": "Debug Toolbar",
        "description": "Find the line with the error.",
        "codeSnippet": "INSTALLED_APPS = [\n    'debug_toolbar',\n    # other apps\n]\n\nMIDDLEWARE = [\n    'debug_toolbar.Middleware.DebugToolbarMiddleware',\n]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Wrong path. Should be 'debug_toolbar.middleware.DebugToolbarMiddleware'.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_150",
        "title": "Internal IPs",
        "description": "Is this code snippet correct?",
        "codeSnippet": "INTERNAL_IPS = [\n    '127.0.0.1',\n]",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "INTERNAL_IPS correctly configured for debug toolbar.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_153",
        "title": "Email Config",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.core.mail import send_mail\n\nsend_mail(\n    'Subject',\n    'Message',\n    'from@example.com',\n    'to@example.com',\n)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "recipient_list must be a list: ['to@example.com'].",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_151",
        "title": "Email HTML",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.core.mail import EmailMultiAlternatives\n\nmsg = EmailMultiAlternatives('Subject', 'Text body', 'from@example.com', ['to@example.com'])\nmsg.attach_alternative('<p>HTML body</p>', 'text/html')\nmsg.send()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "EmailMultiAlternatives correctly sends HTML email.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_154",
        "title": "Template Email",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.template.loader import render_to_string\n\ndef send_welcome_email(user):\n    html_content = render_to_string('email/welcome.html', {'user': user})\n    send_mail('Welcome', html_content, 'from@example.com', [user.email])",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "HTML sent as plain text. Should use EmailMultiAlternatives for HTML.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_152",
        "title": "Mass Mail",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.core.mail import send_mass_mail\n\nmessages = (\n    ('Subject 1', 'Body 1', 'from@example.com', ['to1@example.com']),\n    ('Subject 2', 'Body 2', 'from@example.com', ['to2@example.com']),\n)\nsend_mass_mail(messages)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "send_mass_mail correctly sends multiple emails.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_155",
        "title": "Translation String",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.utils.translation import gettext as _\n\nclass Article(models.Model):\n    title = models.CharField(_(\"Title\"), max_length=200)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should use gettext_lazy for model fields, not gettext.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_153",
        "title": "Lazy Translation",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.utils.translation import gettext_lazy as _\n\nclass Article(models.Model):\n    title = models.CharField(verbose_name=_('Title'), max_length=200)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "gettext_lazy correctly used for model verbose_name.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_156",
        "title": "Plural Translation",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.utils.translation import ngettext\n\ndef article_count(count):\n    return ngettext(\n        'There is %d article',\n        'There are %d articles',\n    ) % count",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "ngettext requires count as third argument before formatting.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_154",
        "title": "Template Trans",
        "description": "Is this code snippet correct?",
        "codeSnippet": "{% load i18n %}\n{% trans 'Welcome' %}\n{% blocktrans %}Hello, {{ name }}{% endblocktrans %}",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "trans and blocktrans correctly used in templates.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_157",
        "title": "Locale Path",
        "description": "Find the line with the error.",
        "codeSnippet": "LANGUAGE_CODE = 'en-us'\nLANGUAGES = [\n    ('en', 'English'),\n    ('es', 'Spanish'),\n]\nLOCALE_PATHS = BASE_DIR / 'locale'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "LOCALE_PATHS should be a list: [BASE_DIR / 'locale'].",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_155",
        "title": "Use I18N",
        "description": "Is this code snippet correct?",
        "codeSnippet": "USE_I18N = True\nUSE_L10N = True\nUSE_TZ = True",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Internationalization settings are correctly configured.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_158",
        "title": "Time Zone",
        "description": "Find the line with the error.",
        "codeSnippet": "from datetime import datetime\n\nclass Event(models.Model):\n    start = models.DateTimeField(default=datetime.now)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should use timezone.now for timezone-aware datetimes.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_156",
        "title": "Timezone Activate",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.utils import timezone\nimport pytz\n\nuser_tz = pytz.timezone('America/New_York')\ntimezone.activate(user_tz)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "timezone.activate correctly sets timezone for current thread.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_159",
        "title": "Localtime",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.utils import timezone\n\ndef get_local_time(dt):\n    return timezone.localtime(dt, 'America/New_York')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "localtime takes timezone object, not string. Use pytz.timezone().",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_157",
        "title": "Make Aware",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.utils import timezone\nfrom datetime import datetime\n\nnaive_dt = datetime(2024, 1, 1, 12, 0)\naware_dt = timezone.make_aware(naive_dt)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "make_aware correctly converts naive to aware datetime.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_160",
        "title": "File Response",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import FileResponse\n\ndef download_file(request):\n    file = open('myfile.pdf', 'rb')\n    return FileResponse(file)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "File opened but never closed if error occurs. Use with statement or as_attachment.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_158",
        "title": "Streaming File",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.http import FileResponse\n\ndef download(request):\n    return FileResponse(open('report.pdf', 'rb'), as_attachment=True, filename='report.pdf')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "FileResponse correctly streams file as attachment.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_161",
        "title": "S3 Storage",
        "description": "Find the line with the error.",
        "codeSnippet": "from storages.backends.s3boto3 import S3Boto3Storage\n\nclass MediaStorage(S3Boto3Storage):\n    location = 'media'\n    file_overwrite = True",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "file_overwrite=True can lead to data loss. Should be False for uploads.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_159",
        "title": "Static Storage",
        "description": "Is this code snippet correct?",
        "codeSnippet": "STATICFILES_STORAGE = 'django.contrib.staticfiles.storage.ManifestStaticFilesStorage'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ManifestStaticFilesStorage correctly adds hashes for cache busting.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_162",
        "title": "Whitenoise",
        "description": "Find the line with the error.",
        "codeSnippet": "MIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'whitenoise.middleware.WhiteNoiseMiddleware',\n]",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "WhiteNoiseMiddleware should be right after SecurityMiddleware.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_160",
        "title": "Compress Storage",
        "description": "Is this code snippet correct?",
        "codeSnippet": "STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "CompressedManifestStaticFilesStorage enables gzip compression.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_163",
        "title": "Image Field",
        "description": "Find the line with the error.",
        "codeSnippet": "class Profile(models.Model):\n    avatar = models.ImageField(upload_to='avatars/')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Requires Pillow library to be installed.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_161",
        "title": "Upload To Callable",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def user_directory_path(instance, filename):\n    return f'user_{instance.user.id}/{filename}'\n\nclass Document(models.Model):\n    file = models.FileField(upload_to=user_directory_path)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Callable upload_to correctly generates dynamic paths.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_164",
        "title": "Content Type Response",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import HttpResponse\nimport json\n\ndef api_view(request):\n    data = {'status': 'ok'}\n    return HttpResponse(json.dumps(data))",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Missing content_type='application/json'.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_162",
        "title": "Http Response Redirect",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.http import HttpResponseRedirect\n\ndef old_url(request):\n    return HttpResponseRedirect('/new-url/')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "HttpResponseRedirect correctly performs 302 redirect.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_165",
        "title": "Permanent Redirect",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import HttpResponsePermanentRedirect\n\ndef redirect_view(request):\n    return HttpResponsePermanentRedirect(reverse('new_view'))",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "reverse needs to be imported from django.urls.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_163",
        "title": "Http 404",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.http import Http404\n\ndef article_detail(request, pk):\n    try:\n        article = Article.objects.get(pk=pk)\n    except Article.DoesNotExist:\n        raise Http404('Article not found')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Http404 correctly raised for missing objects.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_166",
        "title": "Bad Request",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.http import HttpResponseBadRequest\n\ndef api_view(request):\n    if not request.POST.get('name'):\n        return HttpResponseBadRequest('Missing name')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Missing return for valid case. Function returns None.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_164",
        "title": "Forbidden Response",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.http import HttpResponseForbidden\n\ndef admin_only(request):\n    if not request.user.is_staff:\n        return HttpResponseForbidden('Access denied')\n    return render(request, 'admin.html')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "HttpResponseForbidden correctly returns 403 status.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_167",
        "title": "Request Files",
        "description": "Find the line with the error.",
        "codeSnippet": "def upload(request):\n    if request.method == 'POST':\n        file = request.FILES.get('file')\n        with open(file.name, 'wb') as f:\n            f.write(file.read())",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "Should write chunks: for chunk in file.chunks().",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_165",
        "title": "Request User",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def profile(request):\n    if request.user.is_authenticated:\n        return render(request, 'profile.html', {'user': request.user})\n    return redirect('login')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "request.user check is correctly implemented.",
        "difficultyLevel": 3
    },
    {
        "id": "django_err_168",
        "title": "Request GET",
        "description": "Find the line with the error.",
        "codeSnippet": "def search(request):\n    query = request.GET['q']\n    results = Article.objects.filter(title__icontains=query)\n    return render(request, 'search.html', {'results': results})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Will raise KeyError if 'q' missing. Use request.GET.get('q', '').",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_166",
        "title": "Request POST",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def submit(request):\n    name = request.POST.get('name', '')\n    email = request.POST.get('email', '')\n    return JsonResponse({'name': name, 'email': email})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "get() with default correctly handles missing keys.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_169",
        "title": "Session Key",
        "description": "Find the line with the error.",
        "codeSnippet": "def set_theme(request):\n    request.session('theme') = 'dark'\n    return redirect('home')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Wrong syntax. Should be request.session['theme'] = 'dark'.",
        "difficultyLevel": 3
    },
    {
        "id": "django_tf_167",
        "title": "Session Flush",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def logout(request):\n    request.session.flush()\n    return redirect('home')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "session.flush() correctly clears session data.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_170",
        "title": "Cookie Set",
        "description": "Find the line with the error.",
        "codeSnippet": "def set_cookie(request):\n    response = HttpResponse('OK')\n    response.set_cookie('visited', 'true', secure=True)\n    return response",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "secure=True requires httponly=True and samesite='Lax' for security.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_168",
        "title": "Cookie Delete",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def clear_cookie(request):\n    response = redirect('home')\n    response.delete_cookie('visited')\n    return response",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "delete_cookie correctly removes cookie.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_171",
        "title": "Header Access",
        "description": "Find the line with the error.",
        "codeSnippet": "def api_view(request):\n    auth_header = request.headers.get('Authorization')\n    token = auth_header.split(' ')[1]\n    return JsonResponse({'token': token})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "auth_header could be None. Need to check before split.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_169",
        "title": "META Access",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def get_ip(request):\n    x_forwarded_for = request.META.get('HTTP_X_FORWARDED_FOR')\n    if x_forwarded_for:\n        ip = x_forwarded_for.split(',')[0]\n    else:\n        ip = request.META.get('REMOTE_ADDR')\n    return ip",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "IP extraction correctly handles proxy headers.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_172",
        "title": "Resolver Match",
        "description": "Find the line with the error.",
        "codeSnippet": "def my_view(request):\n    url_name = request.resolver_match.url_name\n    view_name = request.resolver_match.view_name\n    return render(request, 'page.html', {'url': url_name})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "resolver_match may be None for unresolved URLs. Need to check first.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_170",
        "title": "Request Path",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def log_request(request):\n    path = request.path\n    full_path = request.get_full_path()\n    return f'{path} - {full_path}'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "path and get_full_path() correctly access URL info.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_173",
        "title": "Content Type Check",
        "description": "Find the line with the error.",
        "codeSnippet": "def api_view(request):\n    if request.content_type != 'application/json':\n        return HttpResponseBadRequest('JSON required')\n    data = json.loads(request.body)\n    return JsonResponse(data)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "If body is empty or invalid JSON, will raise exception. Need try/except.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_171",
        "title": "Body Decode",
        "description": "Is this code snippet correct?",
        "codeSnippet": "import json\n\ndef api_view(request):\n    try:\n        data = json.loads(request.body.decode('utf-8'))\n    except json.JSONDecodeError:\n        return HttpResponseBadRequest('Invalid JSON')\n    return JsonResponse(data)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "JSON parsing with proper error handling.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_174",
        "title": "HTTPS Check",
        "description": "Find the line with the error.",
        "codeSnippet": "def secure_view(request):\n    if not request.is_secure:\n        return redirect('https://' + request.get_host() + request.path)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "is_secure is a method: request.is_secure().",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_172",
        "title": "AJAX Check",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def my_view(request):\n    if request.headers.get('X-Requested-With') == 'XMLHttpRequest':\n        return JsonResponse({'ajax': True})\n    return render(request, 'page.html')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Header check correctly detects AJAX requests.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_175",
        "title": "Form Data",
        "description": "Find the line with the error.",
        "codeSnippet": "def contact(request):\n    if request.method == 'POST':\n        form = ContactForm(request.POST, request.FILES)\n        if form.is_valid():\n            form.save()\n            return redirect('success')\n    form = ContactForm()\n    return render(request, 'contact.html', {'form': form})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Overrides form with errors. Should use else clause.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_173",
        "title": "Form Errors",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def contact(request):\n    if request.method == 'POST':\n        form = ContactForm(request.POST)\n        if form.is_valid():\n            form.save()\n            return redirect('success')\n    else:\n        form = ContactForm()\n    return render(request, 'contact.html', {'form': form})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Form handling pattern correctly preserves errors.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_176",
        "title": "Field Validation",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleForm(forms.ModelForm):\n    def clean_title(self):\n        title = self.cleaned_data['title']\n        if len(title) < 5:\n            raise ValueError('Title too short')\n        return title",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should raise ValidationError, not ValueError.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_174",
        "title": "Clean Method",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class RegisterForm(forms.Form):\n    password1 = forms.CharField(widget=forms.PasswordInput)\n    password2 = forms.CharField(widget=forms.PasswordInput)\n\n    def clean(self):\n        cleaned_data = super().clean()\n        p1 = cleaned_data.get('password1')\n        p2 = cleaned_data.get('password2')\n        if p1 != p2:\n            raise forms.ValidationError('Passwords must match')\n        return cleaned_data",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Multi-field validation correctly implemented in clean().",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_177",
        "title": "Formset Validation",
        "description": "Find the line with the error.",
        "codeSnippet": "def manage_items(request):\n    formset = ItemFormSet(request.POST)\n    if formset.is_valid():\n        formset.save()\n    return render(request, 'items.html', {'formset': formset})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Initial request (GET) also runs this. Should check request.method.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_175",
        "title": "Inline Formset",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.forms import inlineformset_factory\n\nImageFormSet = inlineformset_factory(\n    Article, Image, fields=['image', 'caption'], extra=2\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "inlineformset_factory correctly creates inline formset.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_178",
        "title": "Admin List Display Callable",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    list_display = ['title', 'author_name']\n\n    def author_name(self, obj):\n        return obj.author.get_full_name()\n    author_name.description = 'Author'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "Should be short_description, not description.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_176",
        "title": "Admin Boolean",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    list_display = ['title', 'is_published']\n\n    @admin.display(boolean=True, description='Published')\n    def is_published(self, obj):\n        return obj.status == 'published'",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "admin.display decorator correctly marks boolean display.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_179",
        "title": "Admin Ordering",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    list_display = ['title', 'created']\n    ordering = '-created'",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "ordering should be a list/tuple: ['-created'].",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_177",
        "title": "Admin List Per Page",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    list_per_page = 25\n    list_max_show_all = 200",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Pagination settings are correctly configured.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_180",
        "title": "Admin Save Model",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    def save_model(self, request, obj, form, change):\n        if not change:\n            obj.author = request.user\n        obj.save()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should call super().save_model() instead of obj.save().",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_178",
        "title": "Admin Get Queryset",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        qs = super().get_queryset(request)\n        if not request.user.is_superuser:\n            qs = qs.filter(author=request.user)\n        return qs",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "get_queryset correctly filters based on user.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_181",
        "title": "Admin Has Permission",
        "description": "Find the line with the error.",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    def has_delete_permission(self, request, obj=None):\n        if obj and obj.status == 'published':\n            return False\n        return True",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Should call super().has_delete_permission(request, obj) for proper permission check.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_179",
        "title": "Admin Add Permission",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class ArticleAdmin(admin.ModelAdmin):\n    def has_add_permission(self, request):\n        if Article.objects.count() >= 100:\n            return False\n        return super().has_add_permission(request)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "has_add_permission correctly limits article creation.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_182",
        "title": "Filter Validate",
        "description": "Find the line with the error.",
        "codeSnippet": "def article_list(request):\n    status = request.GET.get('status')\n    articles = Article.objects.filter(status=status)\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "status could be None or invalid. Need validation.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_180",
        "title": "Filter Kwargs",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def article_list(request):\n    filters = {}\n    if status := request.GET.get('status'):\n        filters['status'] = status\n    if author := request.GET.get('author'):\n        filters['author_id'] = author\n    articles = Article.objects.filter(**filters)\n    return render(request, 'list.html', {'articles': articles})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Dynamic filter building is correctly implemented.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_183",
        "title": "Order By User Input",
        "description": "Find the line with the error.",
        "codeSnippet": "def article_list(request):\n    order = request.GET.get('order', 'created')\n    articles = Article.objects.order_by(order)\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "User input directly used in order_by. Could expose fields or cause errors.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_181",
        "title": "Safe Order",
        "description": "Is this code snippet correct?",
        "codeSnippet": "ALLOWED_ORDERS = {'created': '-created', 'title': 'title', 'views': '-views'}\n\ndef article_list(request):\n    order_key = request.GET.get('order', 'created')\n    order = ALLOWED_ORDERS.get(order_key, '-created')\n    articles = Article.objects.order_by(order)\n    return render(request, 'list.html', {'articles': articles})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Whitelist approach safely handles user ordering input.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_184",
        "title": "Slice Before Filter",
        "description": "Find the line with the error.",
        "codeSnippet": "def recent_articles(request):\n    articles = Article.objects.all()[:10].filter(status='published')\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Can't filter after slicing. Slice should be last.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_182",
        "title": "Slice Last",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def recent_articles(request):\n    articles = Article.objects.filter(status='published').order_by('-created')[:10]\n    return render(request, 'list.html', {'articles': articles})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Slice correctly applied after filtering and ordering.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_185",
        "title": "Count vs Len",
        "description": "Find the line with the error.",
        "codeSnippet": "def stats(request):\n    articles = Article.objects.all()\n    count = len(articles)\n    return render(request, 'stats.html', {'count': count})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "len() fetches all records. Use .count() for efficiency.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_183",
        "title": "Efficient Count",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def stats(request):\n    count = Article.objects.filter(status='published').count()\n    return render(request, 'stats.html', {'count': count})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "count() efficiently counts at database level.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_186",
        "title": "First vs Get",
        "description": "Find the line with the error.",
        "codeSnippet": "def latest_article(request):\n    article = Article.objects.filter(status='published').first()\n    return render(request, 'article.html', {'article': article.title})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "first() can return None. Accessing .title would raise AttributeError.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_184",
        "title": "Safe First",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def latest_article(request):\n    article = Article.objects.filter(status='published').first()\n    if article:\n        return render(request, 'article.html', {'article': article})\n    raise Http404('No articles found')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Proper null check before accessing first() result.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_187",
        "title": "Latest Without Order",
        "description": "Find the line with the error.",
        "codeSnippet": "def latest_article(request):\n    article = Article.objects.latest()\n    return render(request, 'article.html', {'article': article})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "latest() requires field name or get_latest_by in Meta.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_185",
        "title": "Latest With Field",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def latest_article(request):\n    article = Article.objects.latest('created')\n    return render(request, 'article.html', {'article': article})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "latest() with field name correctly gets most recent.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_188",
        "title": "In Bulk",
        "description": "Find the line with the error.",
        "codeSnippet": "def get_articles(request):\n    ids = [1, 2, 3]\n    articles = Article.objects.in_bulk(ids)\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "in_bulk returns dict, not list. Template iteration may not work as expected.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_186",
        "title": "In Bulk Dict",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def get_articles(request):\n    ids = [1, 2, 3]\n    articles_dict = Article.objects.in_bulk(ids)\n    articles = [articles_dict[id] for id in ids if id in articles_dict]\n    return render(request, 'list.html', {'articles': articles})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "in_bulk result correctly converted to ordered list.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_189",
        "title": "Values Flat",
        "description": "Find the line with the error.",
        "codeSnippet": "def get_titles(request):\n    titles = Article.objects.values('title')\n    return JsonResponse({'titles': list(titles)})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "values returns dicts. For flat list use values_list('title', flat=True).",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_187",
        "title": "Values List Flat",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def get_titles(request):\n    titles = Article.objects.values_list('title', flat=True)\n    return JsonResponse({'titles': list(titles)})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "values_list with flat=True returns flat list.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_190",
        "title": "Distinct Fields",
        "description": "Find the line with the error.",
        "codeSnippet": "def unique_authors(request):\n    authors = Article.objects.values('author').distinct()\n    return render(request, 'authors.html', {'authors': authors})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "Returns dicts. May want Author objects: Article.objects.values_list('author', flat=True).distinct().",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_188",
        "title": "Distinct Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def unique_categories(request):\n    categories = Article.objects.order_by('category').values_list('category', flat=True).distinct()\n    return JsonResponse({'categories': list(categories)})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "distinct with order_by correctly returns unique values.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_191",
        "title": "Reverse Query",
        "description": "Find the line with the error.",
        "codeSnippet": "def author_articles(request, author_id):\n    author = Author.objects.get(id=author_id)\n    articles = Article.objects.filter(author_id=author_id)\n    return render(request, 'list.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "Already have author object. Use author.article_set.all() for related query.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_189",
        "title": "Related Manager",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def author_articles(request, author_id):\n    author = get_object_or_404(Author, id=author_id)\n    articles = author.articles.all()\n    return render(request, 'list.html', {'articles': articles})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Related manager correctly accesses related objects.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_192",
        "title": "Create Related",
        "description": "Find the line with the error.",
        "codeSnippet": "def create_article(request):\n    author = get_object_or_404(Author, id=request.POST['author_id'])\n    article = Article.objects.create(\n        title=request.POST['title'],\n        author=author\n    )\n    author.save()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Unnecessary author.save(). Author not modified.",
        "difficultyLevel": 4
    },
    {
        "id": "django_tf_190",
        "title": "Add Related",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def add_tag(request, article_id):\n    article = get_object_or_404(Article, id=article_id)\n    tag = get_object_or_404(Tag, id=request.POST['tag_id'])\n    article.tags.add(tag)\n    return redirect('article_detail', pk=article_id)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "ManyToMany add() correctly adds relationship.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_193",
        "title": "Set Related",
        "description": "Find the line with the error.",
        "codeSnippet": "def update_tags(request, article_id):\n    article = get_object_or_404(Article, id=article_id)\n    tag_ids = request.POST.getlist('tags')\n    article.tags.set(tag_ids)\n    return redirect('article_detail', pk=article_id)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "set() expects objects or PKs but getlist returns strings. Need to convert.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_191",
        "title": "Clear Related",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def remove_all_tags(request, article_id):\n    article = get_object_or_404(Article, id=article_id)\n    article.tags.clear()\n    return redirect('article_detail', pk=article_id)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "clear() correctly removes all ManyToMany relationships.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_194",
        "title": "Remove Related",
        "description": "Find the line with the error.",
        "codeSnippet": "def remove_tag(request, article_id, tag_id):\n    article = get_object_or_404(Article, id=article_id)\n    article.tags.remove(tag_id)\n    return redirect('article_detail', pk=article_id)",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "remove() can take PK but safer to use Tag object.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_192",
        "title": "Through Model Add",
        "description": "Is this code snippet correct?",
        "codeSnippet": "Membership.objects.create(\n    person=person,\n    group=group,\n    date_joined=timezone.now()\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Direct through model creation correctly sets extra fields.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_195",
        "title": "Reverse Foreign Key",
        "description": "Find the line with the error.",
        "codeSnippet": "class Article(models.Model):\n    author = models.ForeignKey(User, on_delete=models.CASCADE)\n\n# Usage\nuser.articles.all()",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 4,
        "explanation": "Default reverse name is article_set, not articles. Need related_name.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_193",
        "title": "Related Name",
        "description": "Is this code snippet correct?",
        "codeSnippet": "class Article(models.Model):\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='articles')\n\n# Usage\nuser.articles.count()",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "related_name correctly enables user.articles accessor.",
        "difficultyLevel": 4
    },
    {
        "id": "django_err_196",
        "title": "Exists Check Loop",
        "description": "Find the line with the error.",
        "codeSnippet": "def get_users_with_articles(request):\n    users = []\n    for user in User.objects.all():\n        if user.article_set.all():\n            users.append(user)\n    return render(request, 'list.html', {'users': users})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 3,
        "explanation": "N+1 query problem. Use annotate with Count or prefetch_related.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_194",
        "title": "Annotate Filter",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Count\n\nusers = User.objects.annotate(\n    article_count=Count('article')\n).filter(article_count__gt=0)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Annotate with filter efficiently finds users with articles.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_197",
        "title": "Prefetch Loop",
        "description": "Find the line with the error.",
        "codeSnippet": "def author_list(request):\n    authors = Author.objects.prefetch_related('articles')\n    data = []\n    for author in authors:\n        data.append({\n            'name': author.name,\n            'articles': author.articles.filter(status='published')\n        })\n    return JsonResponse({'authors': data})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 6,
        "explanation": "Filter in loop defeats prefetch. Use Prefetch with queryset.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_195",
        "title": "Prefetch Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models import Prefetch\n\nauthors = Author.objects.prefetch_related(\n    Prefetch('articles', queryset=Article.objects.filter(status='published'))\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Prefetch with queryset correctly filters related objects.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_198",
        "title": "Select Through",
        "description": "Find the line with the error.",
        "codeSnippet": "def person_groups(request, person_id):\n    person = Person.objects.select_related('groups').get(id=person_id)\n    return render(request, 'groups.html', {'person': person})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 1,
        "explanation": "select_related doesn't work with ManyToMany. Use prefetch_related.",
        "difficultyLevel": 6
    },
    {
        "id": "django_tf_196",
        "title": "Prefetch Through",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def person_groups(request, person_id):\n    person = Person.objects.prefetch_related('groups').get(id=person_id)\n    return render(request, 'groups.html', {'person': person})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "prefetch_related correctly handles ManyToMany.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_199",
        "title": "Chained Select",
        "description": "Find the line with the error.",
        "codeSnippet": "articles = Article.objects.select_related('author', 'author__profile', 'category')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 0,
        "explanation": "author__profile chain is only one argument needed. 'author' is redundant.",
        "difficultyLevel": 5
    },
    {
        "id": "django_tf_197",
        "title": "Deep Select",
        "description": "Is this code snippet correct?",
        "codeSnippet": "articles = Article.objects.select_related('author__profile', 'category')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Deep select_related correctly includes author and profile.",
        "difficultyLevel": 5
    },
    {
        "id": "django_err_200",
        "title": "Raw Query Injection",
        "description": "Find the line with the error.",
        "codeSnippet": "def search(request):\n    query = request.GET.get('q')\n    articles = Article.objects.raw(f\"SELECT * FROM articles WHERE title LIKE '%{query}%'\")\n    return render(request, 'search.html', {'articles': articles})",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 2,
        "explanation": "SQL injection vulnerability! Use parameterized query.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_198",
        "title": "Safe Raw Query",
        "description": "Is this code snippet correct?",
        "codeSnippet": "def search(request):\n    query = request.GET.get('q', '')\n    articles = Article.objects.raw(\n        'SELECT * FROM articles WHERE title LIKE %s',\n        [f'%{query}%']\n    )\n    return render(request, 'search.html', {'articles': articles})",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Parameterized raw query prevents SQL injection.",
        "difficultyLevel": 7
    },
    {
        "id": "django_err_201",
        "title": "Extra Deprecated",
        "description": "Find the line with the error.",
        "codeSnippet": "articles = Article.objects.extra(\n    select={'lower_title': 'LOWER(title)'}\n).order_by('lower_title')",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 0,
        "explanation": "extra() is deprecated. Use annotate with database functions.",
        "difficultyLevel": 7
    },
    {
        "id": "django_tf_199",
        "title": "Annotate Lower",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models.functions import Lower\n\narticles = Article.objects.annotate(\n    lower_title=Lower('title')\n).order_by('lower_title')",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "Lower function correctly used for case-insensitive ordering.",
        "difficultyLevel": 6
    },
    {
        "id": "django_err_202",
        "title": "RawSQL Injection",
        "description": "Find the line with the error.",
        "codeSnippet": "from django.db.models.expressions import RawSQL\n\ndef search(request):\n    query = request.GET.get('q')\n    articles = Article.objects.annotate(\n        match=RawSQL(f\"title LIKE '%{query}%'\", ())\n    )",
        "type": "errorSpotting",
        "language": "django",
        "errorLineIndex": 5,
        "explanation": "SQL injection in RawSQL! Use parameters.",
        "difficultyLevel": 8
    },
    {
        "id": "django_tf_200",
        "title": "Safe RawSQL",
        "description": "Is this code snippet correct?",
        "codeSnippet": "from django.db.models.expressions import RawSQL\n\narticles = Article.objects.annotate(\n    similarity=RawSQL('similarity(title, %s)', (query,))\n)",
        "type": "trueOrFalse",
        "language": "django",
        "isCodeCorrect": true,
        "explanation": "RawSQL with parameters prevents injection.",
        "difficultyLevel": 7
    }
]