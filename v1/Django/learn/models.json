{
    "id": "learn_django_models",
    "topicId": "models",
    "topicTitle": "Models",
    "description": "Design your database schema with Django Models",
    "baseKP": 65,
    "slides": [
        {
            "id": "django_models_1",
            "type": "content",
            "title": "ORM Basics",
            "content": "# The ORM ðŸª„\n\n**Object-Relational Mapping (ORM)** allows you to interact with your database using Python code instead of raw SQL.\n\n| Python Code | SQL Generated |\n|-------------|---------------|\n| `User.objects.all()` | `SELECT * FROM auth_user;` |\n| `user.save()` | `INSERT INTO ...` or `UPDATE ...` |\n\n## Advantages\n- **Portability**: Code works with SQLite, Postgres, MySQL without changes.\n- **Security**: Automatically escapes queries preventing SQL injection.\n- **Productivity**: Write less code to do more."
        },
        {
            "id": "django_models_2",
            "type": "content",
            "title": "Defining Models",
            "content": "# Defining Models ðŸ§±\n\nA model is a Python class that inherits from `django.db.models.Model`. Each attribute represents a database field.\n\n```django\nfrom django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    publication_date = models.DateField()\n    price = models.DecimalField(max_digits=5, decimal_places=2)\n    in_stock = models.BooleanField(default=True)\n\n    def __str__(self):\n        return self.title\n```\n> ðŸ’¡ **Tip**: Defining `__str__` is crucial for readable representations in the Admin panel and shell!"
        },
        {
            "id": "django_models_3",
            "type": "content",
            "title": "Field Types",
            "content": "# Common Field Types ðŸ“\n\n- **CharField**: Short text strings. Requires `max_length`.\n- **TextField**: Large text, infinite length.\n- **IntegerField**: Integers.\n- **BooleanField**: True/False.\n- **DateTimeField**: Date and Time.\n  - `auto_now_add=True`: Set to now on creation (unchangeable).\n  - `auto_now=True`: Update to now on every save.\n- **EmailField**, **URLField**: Validates format.\n\n## Field Options\n- `null=True`: Allows database NULL.\n- `blank=True`: Allows empty value in Forms.\n- `choices=...`: Restrict values to a list.\n- `unique=True`: No duplicates allowed."
        },
        {
            "id": "django_models_4",
            "type": "content",
            "title": "Migrations",
            "content": "# Database Migrations ðŸš›\n\nMigrations are Django's way of propagating changes you make to your models into your database schema.\n\n## The Workflow\n\n1. **Modify** your `models.py`.\n2. **Generate** migration files:\n   ```bash\n   python manage.py makemigrations\n   ```\n   This creates a file in `migrations/` describing the changes.\n3. **Apply** the changes:\n   ```bash\n   python manage.py migrate\n   ```\n   This executes the necessary SQL commands.\n\n> âš ï¸ **Warning**: Always commit your migration files to Git!"
        },
        {
            "id": "django_models_quiz_1",
            "type": "quiz",
            "title": "Migration Quiz",
            "content": "Test your process knowledge",
            "quizQuestion": "Which command actualy modifies the database schema?",
            "quizOptions": [
                "makemigrations",
                "migrate",
                "sqlmigrate",
                "syncdb"
            ],
            "correctOptionIndex": 1
        },
        {
            "id": "django_models_5",
            "type": "content",
            "title": "Relationships",
            "content": "# Model Relationships ðŸ”—\n\nRelational databases are all about... relations!\n\n## 1. Many-to-One (ForeignKey)\nExample: A Car belongs to one Manufacturer.\n```django\nmanufacturer = models.ForeignKey(Manufacturer, on_delete=models.CASCADE)\n```\n*`on_delete=models.CASCADE` means if Manufacturer is deleted, delete their Cars too.*\n\n## 2. Many-to-Many\nExample: A Pizza has many Toppings, a Topping is on many Pizzas.\n```django\ntoppings = models.ManyToManyField(Topping)\n```\n\n## 3. One-to-One\nExample: A User has one Profile.\n```django\nprofile = models.OneToOneField(User, on_delete=models.CASCADE)\n```"
        },
        {
            "id": "django_models_6",
            "type": "content",
            "title": "Querying Data",
            "content": "# Basic Queries ðŸ”Ž\n\nDjango gives you a `Manager` usually named `objects`.\n\n```django\n# CREATE\np = Person(name=\"Fred\", age=30)\np.save()\n# OR\nPerson.objects.create(name=\"Fred\", age=30)\n\n# READ\nall_people = Person.objects.all()\nspecific = Person.objects.get(id=1)  # Throws error if not found\nfiltered = Person.objects.filter(age__gt=20) # Age > 20\n\n# UPDATE\np.age = 31\np.save()\n\n# DELETE\np.delete()\n```"
        },
        {
            "id": "django_models_quiz_2",
            "type": "quiz",
            "title": "Relationship Quiz",
            "content": "Check your understanding",
            "quizQuestion": "What argument is required for ForeignKey to specify behavior when the referenced object is deleted?",
            "quizOptions": [
                "on_delete",
                "on_remove",
                "cascade_option",
                "delete_behavior"
            ],
            "correctOptionIndex": 0
        }
    ]
}