{
    "id": "learn_container_orchestration",
    "topicId": "orchestration",
    "topicTitle": "Container Orchestration",
    "description": "Master container orchestration concepts including Kubernetes orchestration, Docker Swarm, scaling strategies, and high availability patterns",
    "baseKP": 100,
    "slides": [
        {
            "id": "orchestration_1",
            "type": "content",
            "title": "Welcome to Container Orchestration",
            "content": "# Container Orchestration ğŸ­\n\nAutomate container deployment, scaling, and management.\n\n## What you'll learn:\n- **Kubernetes** - Industry-standard orchestration\n- **Swarm** - Docker's native orchestration\n- **Scaling** - Horizontal and vertical strategies\n- **HA** - High availability patterns\n\n> ğŸ’¡ **Fun Fact:** Netflix runs over 100,000 containers managed by orchestration tools!\n\n## What is Orchestration?\n\n| Manual | Orchestrated |\n|--------|-------------|\n| Start containers one by one | Declarative deployment |\n| Monitor health manually | Auto-healing |\n| Scale by hand | Auto-scaling |\n| Update with downtime | Rolling updates |\n| Single server | Multi-node cluster |\n\n## Orchestration Platforms\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              ORCHESTRATION                       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Kubernetes   â”‚ Docker Swarm  â”‚  Nomad          â”‚\nâ”‚  (K8s)        â”‚  (Native)     â”‚  (HashiCorp)    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Industry     â”‚  Simpler      â”‚  Multi-runtime  â”‚\nâ”‚  Standard     â”‚  Setup        â”‚  Support        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nLet's master orchestration!"
        },
        {
            "id": "orchestration_2",
            "type": "content",
            "title": "Orchestration Benefits",
            "content": "# Why Orchestration? ğŸ¤”\n\n## Key Benefits\n\n### 1. Self-Healing\n```\nPod crashes â†’ Orchestrator detects â†’ Restarts pod\nNode fails  â†’ Orchestrator detects â†’ Reschedules pods\n```\n\n### 2. Scaling\n```\nHigh traffic â†’ Scale out â†’ More replicas\nLow traffic  â†’ Scale in  â†’ Fewer replicas\n```\n\n### 3. Load Balancing\n```\n                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                â”‚ Load        â”‚\n                â”‚ Balancer    â”‚\n                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n         â–¼             â–¼             â–¼\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚  Pod 1  â”‚   â”‚  Pod 2  â”‚   â”‚  Pod 3  â”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### 4. Rolling Updates\n```\nv1 â†’ v2 without downtime\n```\n\n### 5. Service Discovery\n```\nContainers find each other by name, not IP\n```\n\n## Without vs With Orchestration\n\n| Aspect | Without | With |\n|--------|---------|------|\n| **Deployment** | Manual SSH | `kubectl apply` |\n| **Scaling** | Provision + deploy | `scale --replicas=10` |\n| **Recovery** | 3 AM pages | Automatic |\n| **Updates** | Downtime | Zero downtime |"
        },
        {
            "id": "orchestration_3",
            "type": "content",
            "title": "Kubernetes Orchestration",
            "content": "# Kubernetes Orchestration â˜¸ï¸\n\n## K8s Orchestration Features\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              KUBERNETES FEATURES                 â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  âœ… Declarative Configuration                   â”‚\nâ”‚  âœ… Automatic Bin Packing                       â”‚\nâ”‚  âœ… Self-healing                                â”‚\nâ”‚  âœ… Horizontal Scaling                          â”‚\nâ”‚  âœ… Service Discovery & Load Balancing          â”‚\nâ”‚  âœ… Automated Rollouts and Rollbacks            â”‚\nâ”‚  âœ… Secret and Configuration Management         â”‚\nâ”‚  âœ… Storage Orchestration                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Deployment Strategies\n\n### Rolling Update\n```yaml\nspec:\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxUnavailable: 25%\n      maxSurge: 25%\n```\n\n### Recreate\n```yaml\nspec:\n  strategy:\n    type: Recreate  # Stop all, then start new\n```\n\n## Declarative vs Imperative\n\n```bash\n# Imperative\nkubectl scale deployment nginx --replicas=5\n\n# Declarative (preferred)\nkubectl apply -f deployment.yaml\n# deployment.yaml has replicas: 5\n```"
        },
        {
            "id": "orchestration_4",
            "type": "content",
            "title": "Docker Swarm",
            "content": "# Docker Swarm ğŸ\n\nDocker's **native** clustering and orchestration.\n\n## Swarm Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                  SWARM CLUSTER                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                  â”‚\nâ”‚  MANAGER NODES (Control Plane)                   â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚\nâ”‚  â”‚Manager 1â”‚  â”‚Manager 2â”‚  â”‚Manager 3â”‚          â”‚\nâ”‚  â”‚(Leader) â”‚  â”‚(Backup) â”‚  â”‚(Backup) â”‚          â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚\nâ”‚                    â”‚                             â”‚\nâ”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚\nâ”‚                    â”‚                             â”‚\nâ”‚  WORKER NODES (Data Plane)                       â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚\nâ”‚  â”‚Worker 1 â”‚  â”‚Worker 2 â”‚  â”‚Worker 3 â”‚          â”‚\nâ”‚  â”‚  tasks  â”‚  â”‚  tasks  â”‚  â”‚  tasks  â”‚          â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚\nâ”‚                                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Initialize Swarm\n\n```bash\n# On manager node\ndocker swarm init --advertise-addr <manager-ip>\n\n# Join workers\ndocker swarm join --token <token> <manager-ip>:2377\n\n# Check nodes\ndocker node ls\n```\n\n## Swarm vs Kubernetes\n\n| Swarm | Kubernetes |\n|-------|------------|\n| Simpler setup | More complex |\n| Built into Docker | Separate install |\n| Less features | Full ecosystem |\n| Smaller scale | Enterprise scale |"
        },
        {
            "id": "orchestration_5",
            "type": "quiz",
            "title": "Orchestration Quiz",
            "content": "Test your orchestration knowledge!",
            "quizQuestion": "What is 'self-healing' in container orchestration?",
            "quizOptions": [
                "Containers automatically update themselves",
                "Failed containers are automatically restarted or replaced",
                "Containers repair their own code",
                "The orchestrator repairs network issues"
            ],
            "correctOptionIndex": 1
        },
        {
            "id": "orchestration_6",
            "type": "content",
            "title": "Swarm Services",
            "content": "# Swarm Services ğŸ“¦\n\n## Creating Services\n\n```bash\n# Create a service\ndocker service create \\\n  --name nginx \\\n  --replicas 3 \\\n  --publish 80:80 \\\n  nginx:alpine\n\n# List services\ndocker service ls\n\n# Inspect service\ndocker service inspect nginx\n\n# View tasks (containers)\ndocker service ps nginx\n```\n\n## Scaling Services\n\n```bash\n# Scale up/down\ndocker service scale nginx=5\n\n# Or update replicas\ndocker service update --replicas 10 nginx\n```\n\n## Rolling Updates\n\n```bash\n# Update with rolling policy\ndocker service update \\\n  --image nginx:latest \\\n  --update-parallelism 2 \\\n  --update-delay 10s \\\n  nginx\n```\n\n## Service Modes\n\n| Mode | Description |\n|------|-------------|\n| `replicated` | Specific number of tasks |\n| `global` | One task per node |\n\n```bash\n# Global mode (e.g., monitoring agent)\ndocker service create --mode global --name agent monitoring-agent\n```"
        },
        {
            "id": "orchestration_7",
            "type": "content",
            "title": "Swarm Stacks",
            "content": "# Swarm Stacks ğŸ“š\n\nDeploy multi-service apps with compose files.\n\n## Stack Compose File\n\n```yaml\n# docker-stack.yml\nversion: '3.8'\n\nservices:\n  web:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n    deploy:\n      replicas: 3\n      update_config:\n        parallelism: 1\n        delay: 10s\n      restart_policy:\n        condition: on-failure\n    networks:\n      - frontend\n\n  api:\n    image: myapi:latest\n    deploy:\n      replicas: 2\n      resources:\n        limits:\n          cpus: '0.5'\n          memory: 256M\n    networks:\n      - frontend\n      - backend\n\n  db:\n    image: postgres:15\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    deploy:\n      placement:\n        constraints:\n          - node.role == manager\n    networks:\n      - backend\n\nnetworks:\n  frontend:\n  backend:\n\nvolumes:\n  db_data:\n```\n\n## Stack Commands\n\n```bash\n# Deploy stack\ndocker stack deploy -c docker-stack.yml myapp\n\n# List stacks\ndocker stack ls\n\n# List stack services\ndocker stack services myapp\n\n# Remove stack\ndocker stack rm myapp\n```"
        },
        {
            "id": "orchestration_8",
            "type": "content",
            "title": "Horizontal Scaling",
            "content": "# Horizontal Scaling ğŸ“ˆ\n\nAdd more **instances** to handle load.\n\n## Manual Scaling\n\n### Kubernetes\n```bash\nkubectl scale deployment nginx --replicas=10\n```\n\n### Swarm\n```bash\ndocker service scale nginx=10\n```\n\n## Auto-Scaling (K8s HPA)\n\n```yaml\napiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: nginx-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: nginx\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 70\n    - type: Resource\n      resource:\n        name: memory\n        target:\n          type: Utilization\n          averageUtilization: 80\n```\n\n## Scaling Visualization\n\n```\nLoad Increases:\n\n  CPU: 30%        CPU: 70%        CPU: 90%\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ Pod 1  â”‚  â†’   â”‚ Pod 1  â”‚  â†’   â”‚ Pod 1  â”‚\n  â”‚ Pod 2  â”‚      â”‚ Pod 2  â”‚      â”‚ Pod 2  â”‚\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Pod 3  â”‚      â”‚ Pod 3  â”‚\n                  â”‚ Pod 4  â”‚      â”‚ Pod 4  â”‚\n                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Pod 5  â”‚\n                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n  2 replicas      4 replicas      5 replicas\n```"
        },
        {
            "id": "orchestration_9",
            "type": "content",
            "title": "Vertical Scaling",
            "content": "# Vertical Scaling ğŸ“Š\n\nIncrease resources for **existing** instances.\n\n## Resource Requests and Limits\n\n```yaml\nspec:\n  containers:\n    - name: app\n      resources:\n        requests:      # Guaranteed minimum\n          cpu: \"250m\"\n          memory: \"256Mi\"\n        limits:        # Maximum allowed\n          cpu: \"500m\"\n          memory: \"512Mi\"\n```\n\n## Vertical Pod Autoscaler (VPA)\n\n```yaml\napiVersion: autoscaling.k8s.io/v1\nkind: VerticalPodAutoscaler\nmetadata:\n  name: nginx-vpa\nspec:\n  targetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: nginx\n  updatePolicy:\n    updateMode: \"Auto\"  # Recreate pods with new resources\n  resourcePolicy:\n    containerPolicies:\n      - containerName: nginx\n        minAllowed:\n          cpu: 100m\n          memory: 128Mi\n        maxAllowed:\n          cpu: 2\n          memory: 4Gi\n```\n\n## Horizontal vs Vertical\n\n| Horizontal | Vertical |\n|------------|----------|\n| Add more pods | Bigger pods |\n| Better for stateless | Better for stateful |\n| More HA | Single point of failure |\n| Linear cost | Diminishing returns |\n\n> ğŸ’¡ **Best Practice:** Prefer horizontal scaling!"
        },
        {
            "id": "orchestration_10",
            "type": "quiz",
            "title": "Scaling Quiz",
            "content": "Test your scaling knowledge!",
            "quizQuestion": "What is horizontal scaling?",
            "quizOptions": [
                "Increasing CPU and memory of existing containers",
                "Adding more container instances to handle load",
                "Moving containers to better hardware",
                "Reducing the number of containers"
            ],
            "correctOptionIndex": 1
        },
        {
            "id": "orchestration_11",
            "type": "content",
            "title": "High Availability Concepts",
            "content": "# High Availability (HA) ğŸ¥\n\nEnsure applications remain available.\n\n## HA Components\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              HIGH AVAILABILITY                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                  â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚  â”‚ REDUNDANCY: Multiple instances          â”‚    â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚\nâ”‚                                                  â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚  â”‚ FAILOVER: Automatic switch on failure   â”‚    â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚\nâ”‚                                                  â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚  â”‚ LOAD BALANCING: Distribute traffic      â”‚    â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚\nâ”‚                                                  â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚  â”‚ HEALTH CHECKS: Detect failures          â”‚    â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚\nâ”‚                                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Availability Targets\n\n| Level | Downtime/Year | Description |\n|-------|---------------|-------------|\n| 99% | 3.65 days | Basic |\n| 99.9% | 8.76 hours | Standard |\n| 99.99% | 52.6 minutes | High |\n| 99.999% | 5.26 minutes | Critical |\n\n## Key Strategies\n\n- **Multi-replica deployments**\n- **Multi-zone deployments**\n- **Health checks and probes**\n- **Automatic failover**\n- **Data replication**"
        },
        {
            "id": "orchestration_12",
            "type": "content",
            "title": "HA Patterns in Kubernetes",
            "content": "# K8s HA Patterns ğŸ›¡ï¸\n\n## Pod Disruption Budgets\n\n```yaml\napiVersion: policy/v1\nkind: PodDisruptionBudget\nmetadata:\n  name: nginx-pdb\nspec:\n  minAvailable: 2  # Or maxUnavailable: 1\n  selector:\n    matchLabels:\n      app: nginx\n```\n\n## Anti-Affinity (Spread Across Nodes)\n\n```yaml\nspec:\n  affinity:\n    podAntiAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n        - labelSelector:\n            matchExpressions:\n              - key: app\n                operator: In\n                values: [nginx]\n          topologyKey: kubernetes.io/hostname\n```\n\n## Topology Spread\n\n```yaml\nspec:\n  topologySpreadConstraints:\n    - maxSkew: 1\n      topologyKey: topology.kubernetes.io/zone\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app: nginx\n```\n\n## Health Checks\n\n```yaml\nlivenessProbe:\n  httpGet:\n    path: /health\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /ready\n    port: 8080\n  initialDelaySeconds: 5\n  periodSeconds: 5\n```"
        },
        {
            "id": "orchestration_13",
            "type": "content",
            "title": "Multi-Zone Deployment",
            "content": "# Multi-Zone/Region Deployment ğŸŒ\n\n## Zone-Aware Scheduling\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                   REGION                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚    Zone A     â”‚    Zone B     â”‚    Zone C       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚   Node 1      â”‚   Node 3      â”‚   Node 5        â”‚\nâ”‚   Node 2      â”‚   Node 4      â”‚   Node 6        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚   Pod 1       â”‚   Pod 2       â”‚   Pod 3         â”‚\nâ”‚   Pod 4       â”‚   Pod 5       â”‚   Pod 6         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nIf Zone A fails â†’ Pods 2,3,5,6 still running\n```\n\n## Zone Topology Spread\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web\nspec:\n  replicas: 6\n  template:\n    spec:\n      topologySpreadConstraints:\n        - maxSkew: 1\n          topologyKey: topology.kubernetes.io/zone\n          whenUnsatisfiable: ScheduleAnyway\n          labelSelector:\n            matchLabels:\n              app: web\n```\n\n## Benefits\n\n- âœ… Survive zone failures\n- âœ… Lower latency (closer to users)\n- âœ… Disaster recovery\n- âœ… Compliance requirements"
        },
        {
            "id": "orchestration_14",
            "type": "content",
            "title": "Service Mesh",
            "content": "# Service Mesh ğŸ•¸ï¸\n\nAdvanced networking for microservices.\n\n## What is a Service Mesh?\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚               SERVICE MESH                       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                  â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚  â”‚Service Aâ”‚â”€â”€â”€â”€â”€â”€â”‚Service Bâ”‚â”€â”€â”€â”€â”€â”€â”‚Service Câ”‚  â”‚\nâ”‚  â”‚ + Proxy â”‚      â”‚ + Proxy â”‚      â”‚ + Proxy â”‚  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ”‚       â”‚               â”‚                â”‚         â”‚\nâ”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚\nâ”‚                       â”‚                          â”‚\nâ”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚\nâ”‚               â”‚ Control Plane â”‚                  â”‚\nâ”‚               â”‚  (Istio/etc)  â”‚                  â”‚\nâ”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚\nâ”‚                                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Service Mesh Features\n\n| Feature | Description |\n|---------|-------------|\n| **Traffic Management** | Routing, load balancing |\n| **Security** | mTLS, authorization |\n| **Observability** | Tracing, metrics |\n| **Resilience** | Retries, circuit breaking |\n\n## Popular Service Meshes\n\n- **Istio** - Full-featured, complex\n- **Linkerd** - Lightweight, simpler\n- **Consul Connect** - HashiCorp ecosystem\n- **AWS App Mesh** - AWS native"
        },
        {
            "id": "orchestration_15",
            "type": "quiz",
            "title": "HA Quiz",
            "content": "Test your high availability knowledge!",
            "quizQuestion": "What does a Pod Disruption Budget (PDB) ensure?",
            "quizOptions": [
                "Pods have enough CPU resources",
                "A minimum number of pods remain available during disruptions",
                "Pods are evenly distributed across nodes",
                "Pods are automatically scaled"
            ],
            "correctOptionIndex": 1
        },
        {
            "id": "orchestration_16",
            "type": "content",
            "title": "Blue-Green Deployments",
            "content": "# Blue-Green Deployments ğŸ”µğŸŸ¢\n\nZero-downtime deployment strategy.\n\n## How It Works\n\n```\n                    PRODUCTION TRAFFIC\n                          â”‚\n                          â–¼\n                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                   â”‚   Router   â”‚\n                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜\n                          â”‚\n         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n         â”‚                â”‚                â”‚\n         â–¼                                 â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   BLUE (v1)     â”‚               â”‚  GREEN (v2)     â”‚\nâ”‚   (Current)     â”‚               â”‚   (New)         â”‚\nâ”‚   3 replicas    â”‚               â”‚   3 replicas    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n        â–²                                 â”‚\n        â”‚                                 â”‚\n   Traffic now â”€â”€â”€â”€â”€â”€â”€ Switch â”€â”€â”€â”€â”€â”€â–º Traffic after\n```\n\n## Kubernetes Implementation\n\n```yaml\n# Blue Deployment\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-blue\nspec:\n  replicas: 3\n  template:\n    metadata:\n      labels:\n        app: myapp\n        version: blue\n---\n# Service points to blue\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp\nspec:\n  selector:\n    app: myapp\n    version: blue  # Switch to 'green' to cutover\n```\n\n## Benefits\n\n- âœ… Instant rollback\n- âœ… Zero downtime\n- âœ… Full testing before switch\n- âŒ Requires double resources"
        },
        {
            "id": "orchestration_17",
            "type": "content",
            "title": "Canary Deployments",
            "content": "# Canary Deployments ğŸ¤\n\nGradual rollout to subset of users.\n\n## Traffic Distribution\n\n```\n                    PRODUCTION TRAFFIC (100%)\n                          â”‚\n            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n            â”‚                           â”‚\n            â–¼                           â–¼\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚  STABLE (95%) â”‚           â”‚ CANARY (5%)   â”‚\n    â”‚     v1.0      â”‚           â”‚     v1.1      â”‚\n    â”‚  10 replicas  â”‚           â”‚  1 replica    â”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nMonitor metrics â†’ Increase canary â†’ Full rollout\n```\n\n## Progressive Rollout\n\n```\nStep 1:  5% canary\nStep 2: 10% canary  â† Monitor errors\nStep 3: 25% canary  â† Monitor latency\nStep 4: 50% canary  â† Monitor user feedback\nStep 5: 100% canary â† Full rollout\n```\n\n## Argo Rollouts Example\n\n```yaml\napiVersion: argoproj.io/v1alpha1\nkind: Rollout\nmetadata:\n  name: myapp\nspec:\n  replicas: 10\n  strategy:\n    canary:\n      steps:\n        - setWeight: 5\n        - pause: {duration: 1h}\n        - setWeight: 20\n        - pause: {duration: 1h}\n        - setWeight: 50\n        - pause: {duration: 1h}\n```\n\n## Benefits\n\n- âœ… Catch issues early\n- âœ… Limit blast radius\n- âœ… Data-driven decisions\n- âŒ More complex setup"
        },
        {
            "id": "orchestration_18",
            "type": "content",
            "title": "Monitoring and Observability",
            "content": "# Observability ğŸ“Š\n\n## Three Pillars\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚               OBSERVABILITY                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚    METRICS    â”‚     LOGS      â”‚    TRACES       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Prometheus   â”‚  Fluentd/     â”‚   Jaeger/       â”‚\nâ”‚  Grafana      â”‚  Loki         â”‚   Zipkin        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  CPU, Memory  â”‚  App logs     â”‚   Request flow  â”‚\nâ”‚  Requests/sec â”‚  Error logs   â”‚   Latency       â”‚\nâ”‚  Error rates  â”‚  Audit logs   â”‚   Dependencies  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Key Metrics for Orchestration\n\n| Metric | Description |\n|--------|-------------|\n| **Pod restarts** | Container crashes |\n| **Pod pending** | Scheduling issues |\n| **CPU/Memory** | Resource usage |\n| **Request rate** | Traffic volume |\n| **Error rate** | Failure percentage |\n| **Latency** | Response time |\n\n## Alerting\n\n```yaml\n# Prometheus AlertRule\napiVersion: monitoring.coreos.com/v1\nkind: PrometheusRule\nmetadata:\n  name: pod-alerts\nspec:\n  groups:\n    - name: pod-health\n      rules:\n        - alert: PodCrashLooping\n          expr: rate(kube_pod_container_status_restarts_total[15m]) > 0\n          for: 5m\n          labels:\n            severity: warning\n```"
        },
        {
            "id": "orchestration_19",
            "type": "content",
            "title": "Best Practices",
            "content": "# Orchestration Best Practices âœ…\n\n## Deployment\n\n- âœ… Use **declarative** configurations\n- âœ… Store manifests in **version control**\n- âœ… Use **namespaces** for isolation\n- âœ… Set **resource requests and limits**\n- âœ… Implement **health checks**\n\n## Scaling\n\n- âœ… Prefer **horizontal** scaling\n- âœ… Configure **HPA** for auto-scaling\n- âœ… Set appropriate **min/max replicas**\n- âœ… Monitor scaling events\n\n## High Availability\n\n- âœ… Run **multiple replicas** (3+)\n- âœ… Use **pod anti-affinity**\n- âœ… Deploy across **zones**\n- âœ… Configure **PodDisruptionBudgets**\n- âœ… Implement **circuit breakers**\n\n## Updates\n\n- âœ… Use **rolling updates** for zero downtime\n- âœ… Consider **canary** for risky changes\n- âœ… Always have **rollback** plan\n- âœ… Test in staging first\n\n## Monitoring\n\n- âœ… Collect **metrics, logs, traces**\n- âœ… Set up **alerting**\n- âœ… Create **dashboards**\n- âœ… Practice **incident response**"
        },
        {
            "id": "orchestration_20",
            "type": "quiz",
            "title": "Final Quiz",
            "content": "Test your overall orchestration knowledge!",
            "quizQuestion": "What is the difference between blue-green and canary deployments?",
            "quizOptions": [
                "Blue-green uses more resources; canary is resource-efficient",
                "Blue-green switches all traffic at once; canary gradually shifts traffic",
                "Blue-green is for Kubernetes only; canary is for Docker Swarm",
                "There is no difference"
            ],
            "correctOptionIndex": 1
        },
        {
            "id": "orchestration_21",
            "type": "content",
            "title": "Summary",
            "content": "# Congratulations! ğŸ‰\n\nYou've mastered Container Orchestration!\n\n## Key Takeaways\n\n### Kubernetes & Swarm ğŸ­\n- âœ… Automated container management\n- âœ… Self-healing and scaling\n- âœ… Service discovery and load balancing\n\n### Scaling ğŸ“ˆ\n- âœ… Horizontal: Add more instances\n- âœ… Vertical: Increase resources\n- âœ… Auto-scaling with HPA/VPA\n\n### High Availability ğŸ›¡ï¸\n- âœ… Multiple replicas\n- âœ… Multi-zone deployment\n- âœ… Pod disruption budgets\n- âœ… Health checks\n\n### Deployment Strategies ğŸš€\n- âœ… Rolling updates (default)\n- âœ… Blue-green (instant switch)\n- âœ… Canary (gradual rollout)\n\n## Remember\n\n```\nOrchestration = \n  Automation + \n  Scaling + \n  Self-healing + \n  Zero-downtime updates\n```\n\n> ğŸ­ **Orchestration turns containers into production-ready systems!**\n\nHappy orchestrating! ğŸš€"
        }
    ]
}